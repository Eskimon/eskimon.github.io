<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Utiliser des plugins &bull; Le blog d'Eskimon</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/hljs-monokai.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="/static/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/static/images/favicon/ms-icon-144x144.png">

    <link href="https://eskimon.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Le blog d'Eskimon Atom Feed" />
    <link href="https://eskimon.fr/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Le blog d'Eskimon RSS Feed" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46353906-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-46353906-1');
    </script>

    <meta name="description" content="Augmentons les capacités de notre générateur, voyons comment facilement installer des plugins dans Pelican." />

  <meta name="tags" content="python" />
  <meta name="tags" content="pelican" />
  <meta name="tags" content="tuto" />


  <meta property="og:site_name" content="Le blog d'Eskimon">
  <meta property="og:title" content="Utiliser des plugins">
  <meta property="og:url" content="https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins">
  <meta property="og:language" content="fr_FR">
  <meta property="og:type" content="website">

  <meta property="twitter:domain" content="https://eskimon.fr/">
  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins">
  <meta property="twitter:title" content="Utiliser des plugins">
<meta property="twitter:description" content="Augmentons les capacités de notre générateur, voyons comment facilement installer des plugins dans Pelican.">  <meta property="twitter:site" content="SITENAME">
  <meta property="twitter:creator" content="@eskimon_fr">

  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
  <meta name="DC.publisher" lang="fr" content="Le blog d'Eskimon" />
  <meta name="DC.creator" content="Eskimon" />
  <meta name="DC.type" content="text" />
  <meta name="DC.title" content="Utiliser des plugins" />
  <meta name="DC.abstract" content="Utiliser des plugins – Augmentons les capacités de notre générateur, voyons comment facilement installer des plugins dans Pelican." />
  <meta name="DC.subject" lang="fr" content="Web/D - Aller plus loin – python; pelican; tuto" />
<meta name="DC.description" lang="fr" content="Augmentons les capacités de notre générateur, voyons comment facilement installer des plugins dans Pelican." />  <meta name="DC.date" content="2018-10-27T09:00:00+02:00" />
  <meta name="DC.format" content="text/html" />
  <meta name="DC.language" content="fr" />
  <meta name="DC.rights" content="CC BY-NC-SA" />

  <script type="application/ld+json">
    [{
        "@context": "http://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins"
        },
        "headline": ""Utiliser des plugins"",
        "datePublished": "2018-10-27T09:00:00+02:00",
        "image": [
            "https://eskimon.fr/static/images/logo.png"
        ],
        "author": {
            "@type": "Person",
            "name": "Eskimon",
            "image": "https://eskimon.fr/static/images/logo.png"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Eskimon",
            "logo": {
                "@type": "ImageObject",
                "url": "https://eskimon.fr/static/images/logo.png"
            }
        },
        "description": ""Augmentons les capacit\u00e9s de notre g\u00e9n\u00e9rateur, voyons comment facilement installer des plugins dans Pelican.""
    },
    {
        "@context": "http://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://eskimon.fr/category/web",
                "name": ""Web""
            }
        }
        , {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://eskimon.fr/subcategory/web/d-aller-plus-loin",
                "name": ""D - Aller plus loin""
            }
        }
        , {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins",
                "name": ""Utiliser des plugins""
            }
        }]
    }]
    </script>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-2080155902357792",
              enable_page_level_ads: true
         });
    </script>
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light bg-secondary-l40 py-0">
    <a class="navbar-brand" href="/">
        <img src="/static/images/logo.png" width="20" height="20" alt="">
        Le blog d'Eskimon
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div></div>
        <div>
            <a class="btn btn-lg text-secondary" href="https://github.com/Eskimon" rel="nofollow" title="Mon profil Github">
                <i class="fab fa-github fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://twitter.com/Eskimon_fr" rel="nofollow" title="Me suivre sur Twitter">
                <i class="fab fa-twitter fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch">
                <i class="fab fa-twitch fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://www.youtube.com/user/Eskimon49/featured" rel="nofollow" title="Les VOD sur Youtube">
                <i class="fab fa-youtube fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://discord.gg/9SkDWft" rel="nofollow" title="Venez participer sur Discord">
                <i class="fab fa-discord fa-lg"></i>
            </a>
        </div>
        <div class="navbar-nav">
                <a class="nav-item nav-link " href="/category/arduino">Arduino</a>
                <a class="nav-item nav-link " href="/category/articles">Articles</a>
                <a class="nav-item nav-link active" href="/category/web">Web</a>
        </div>
    </div>
</nav>
    <div class="container-fluid es-verticalfill">
<div class="row">
    <!-- Sidebar -->
    <div class="col-lg-2 d-none d-lg-block sticky-top es-scrollable pt-3 px-1 bg-light es-ul-bordered" id="es-side-summary">
        <nav class="px-2" id="es-side-summary-content">
            <!-- Summary will come here -->
        </nav>
        <hr>
        <!-- Self-promo for ebook -->
        <div class="text-center">
            <h4>Ebook Arduino !</h4>
            <a href="/ebook-tutoriel-arduino.html"><img src="/images/couverture-mini.png" alt="couverture ebook" title="couverture de l'ebook"></a>
        </div>
        <hr>
        <!-- Blog side carree -->
        <div id="es-side-summary-bot-annonce" class="text-center">
            <ins class="adsbygoogle"
                 style="display:inline-block;width:250px;height:250px"
                 data-ad-client="ca-pub-2080155902357792"
                 data-ad-slot="6115810402"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>
    <!-- Main content -->
    <div class="col-md-10 col-lg-8 col-xl-7 offset-md-1 offset-lg-1 offset-xl-1 d-block pt-3" id="es-content">

<div class="row" role="alert">
    <div class="ml-auto mr-auto alert alert-primary text-center">
        <a class="btn btn-lg text-secondary" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch"><i class="fab fa-twitch fa-lg"></i></a>
        Rejoignez moi en <a href="htts://twitch.tv/eskimon"> live sur Twitch </a> pour apprendre le tuto Arduino autrement ! (<a href="https://twitter.com/Eskimon_fr/status/1169158978129092618">plus d'infos</a>)
        <a class="btn btn-lg text-secondary" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch"><i class="fab fa-twitch fa-lg"></i></a>
    </div>
</div>

        <article>
            <!-- Leaderboard head article -->
            <ins class="adsbygoogle"
                style="display:inline-block;width:970px;height:90px"
                data-ad-client="ca-pub-2080155902357792"
                data-ad-slot="7158680773"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-white">
                    <li class="breadcrumb-item"><a href="/category/web">Web</a></li>
                        <li class="breadcrumb-item"><a href="/subcategory/web/d-aller-plus-loin">D - Aller plus loin</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Utiliser des plugins</li>
                </ol>
            </nav>
            <header class="es-post-info">
                <h1 class="text-center my-4">Utiliser des plugins</h1>
            </header>
            <footer class="es-post-info pb-2 mb-2">
                <div class="row align-items-center">
                    <div class="col-auto mr-auto">
                        <span class="vcard author">
                            <a class="" href="/author/eskimon" rel="author">Eskimon</a>
                        </span>
                        ,
                        <time class="" datetime="2018-10-27T09:00:00+02:00" pubdate>
                            le sam. 27 octobre 2018
                        </time>
                            (<a href="https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins#disqus_thread" data-disqus-identifier="tuto-pelican-401-utiliser-des-plugins">commentaires</a>)
                    </div>
                    <div class="col-auto">
                        <a class="btn btn-outline-primary btn-sm" href="/tag/python" rel="tag">python</a>
                        <a class="btn btn-outline-primary btn-sm" href="/tag/pelican" rel="tag">pelican</a>
                        <a class="btn btn-outline-primary btn-sm" href="/tag/tuto" rel="tag">tuto</a>
                    </div>
                </div>
            </footer>
            <button type="button" id="sidebarCollapse" class="float-right btn btn-secondary sticky-top d-block d-lg-none">
                Sommaire
            </button>
            <!-- /.post-info -->
            <div class="entry-content">
                <p>
 De base, Pelican propose déjà pas mal de choses. Mais grâce à son système de
 <em>
  plugins
 </em>
 , il est possible de rajouter de nouvelles fonctionnalités à ce générateur de site en un clin d’œil.
</p>
<p>
 Dans cette partie, je vous présenterais tout d’abord le principe de fonctionnement des plugins. Ensuite, je vous mentionnerais quelques plugins que je juge presque indispensable.
</p>
<h3 id="sommaire">
 <a aria-hidden="true" href="#sommaire">
  <span class="es-autolink-heading">
  </span>
 </a>
 Sommaire
</h3>
<ul>
 <li>
  <p>
   <a href="#généralités-sur-les-plugins">
    Généralités sur les plugins
   </a>
  </p>
  <ul>
   <li>
    <p>
     <a href="#reader-ou-generator-deux-types-de-plugins">
      reader ou generator, deux types de plugins
     </a>
    </p>
    <ul>
     <li>
      <a href="#les-readers">
       Les readers
      </a>
     </li>
     <li>
      <a href="#les-generators">
       Les generators
      </a>
     </li>
    </ul>
   </li>
   <li>
    <p>
     <a href="#comment-installer-un-plugin">
      Comment installer un plugin
     </a>
    </p>
    <ul>
     <li>
      <a href="#trouver-un-plugin">
       Trouver un plugin
      </a>
     </li>
     <li>
      <a href="#installer-le-plugin">
       Installer le plugin
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#une-extension-pour-générer-un-sitemap">
    Une extension pour générer un sitemap
   </a>
  </p>
  <ul>
   <li>
    <a href="#installer-sitemap">
     Installer sitemap
    </a>
   </li>
   <li>
    <a href="#paramétrer-le-plugin">
     Paramétrer le plugin
    </a>
   </li>
  </ul>
 </li>
 <li>
  <a href="#une-extension-pour-créer-des-sous-catégories">
   Une extension pour créer des sous-catégories
  </a>
 </li>
</ul>
<h3 id="généralités-sur-les-plugins">
 <a aria-hidden="true" href="#généralités-sur-les-plugins">
  <span class="es-autolink-heading">
  </span>
 </a>
 Généralités sur les plugins
</h3>
<h4 id="reader-ou-generator-deux-types-de-plugins">
 <a aria-hidden="true" href="#reader-ou-generator-deux-types-de-plugins">
  <span class="es-autolink-heading">
  </span>
 </a>
 <em>
  reader
 </em>
 ou
 <em>
  generator
 </em>
 , deux types de plugins
</h4>
<p>
 Dans écosystème Pelican, on trouve surtout deux types de plugins. L’un regroupe les
 <em>
  readers
 </em>
 (les
 <em>
  lecteurs
 </em>
 ), et l’autre les
 <em>
  generators
 </em>
 (
 <em>
  générateurs
 </em>
 ). Voyons les différences.
</p>
<h5 id="les-readers">
 <a aria-hidden="true" href="#les-readers">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les readers
</h5>
<p>
 Un reader est un plugin qui aura la charge de prendre un document en entrée pour le transformer en un nouveau format. Par exemple, un plugin qui permet de rédiger en LaTeX tombera dans cette catégorie. En effet, il aura la tâche de transformer un nouveau format d’entrée (le LaTeX) en html, le format des pages web. Le reader a deux tâches principales. La première, identifier et regrouper les métadonnées du contenu
afin qu’elles soient utilisable dans les templates. La seconde est bien entendu la transformation du contenu réelle de l’article en html.
</p>
<h5 id="les-generators">
 <a aria-hidden="true" href="#les-generators">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les generators
</h5>
<p>
 Les générateurs ont aussi pour but de créer de nouvelles pages, mais pour cela il ne partent pas d’un seul fichier source mais plutôt de l’ensemble de votre site. Par exemple, le plugin "sitemap" que nous allons voir dans ce chapitre permet, à partir de l’ensemble des pages générées, de créer un fichier
 <em>
  sitemap.xml
 </em>
 qui regroupe le plan de votre site, bien utile pour les outils d’indexation des moteurs de recherche et autres robots.
</p>
<h4 id="comment-installer-un-plugin">
 <a aria-hidden="true" href="#comment-installer-un-plugin">
  <span class="es-autolink-heading">
  </span>
 </a>
 Comment installer un plugin
</h4>
<p>
 Installer un plugin est relativement trivial. Il suffit tout simplement de télécharger ce dernier, le mettre au bon endroit puis régler sa configuration. Voyons cela.
</p>
<h5 id="trouver-un-plugin">
 <a aria-hidden="true" href="#trouver-un-plugin">
  <span class="es-autolink-heading">
  </span>
 </a>
 Trouver un plugin
</h5>
<p>
 Pour cela rien de plus simple, la majeur partie des plugins (si ce n’est la totalité) se trouve sur le dépôt git suivant :
 <a href="https://github.com/getpelican/pelican-plugins">
  https://github.com/getpelican/pelican-plugins
 </a>
 .
</p>
<p>
 Une fois le plugin qui vous intéresse identifié, il ne reste plus qu’à le récupérer. Deux cas de figures peuvent alors se présenter. Soit le plugin est dans un sous-module git, et dans ce cas il suffit de cloner uniquement ce sous-module. Soit le plugin est directement dans le dossier. Dans ce cas, je vous conseille de passer par l’outil
 <a href="https://minhaskamal.github.io/DownGit/#/home">
  DownGit
 </a>
 pour récupérer juste le dossier qui vous intéresse.
</p>
<h5 id="installer-le-plugin">
 <a aria-hidden="true" href="#installer-le-plugin">
  <span class="es-autolink-heading">
  </span>
 </a>
 Installer le plugin
</h5>
<p>
 Passons maintenant à l’installation d’un plugin.
</p>
<p>
 Tout d’abord, je vous propose de créer un dossier nommé
 <code>
  plugins
 </code>
 à la racine de votre dossier de travail (donc au même niveau hiérarchique que le dossier
 <code>
  content
 </code>
 ).
</p>
<p>
 Ensuite, il va falloir informer Pelican que nos plugins vont se trouver dans ce dossier. Il faut pour cela ajouter une ligne dans le fichier de configuration
 <code>
  pelicanconf.py
 </code>
 :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">PLUGIN_PATHS = [<span class="hljs-string">"plugins"</span>]
</code></pre>
</div>
<p>
 Cette ligne contient simplement un tableau de tout les dossiers que Pelican va explorer pour trouver des plugins.
</p>
<p>
 Enfin, vous l’avez peut-être deviné, il va falloir copier/déplacer les plugins précédemment téléchargé pour les mettre dans ce fameux dossier
 <code>
  plugins/
 </code>
 que nous venons de créer.
</p>
<p>
 Il ne reste plus qu’à activer ou non les plugins pour les voir rentrer en action. Une simple ligne dans le fichier de configuration fait ce travail :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">PLUGINS = [<span class="hljs-string">"sitemap"</span>, <span class="hljs-string">"subcategory"</span>, <span class="hljs-string">"permalink"</span>]
</code></pre>
</div>
<p>
 Là encore, c’est un tableau contenant les noms des dossiers des plugins à utiliser tels qu’ils sont nommés dans le dossier
 <code>
  plugins/
 </code>
 .
</p>
<hr/>
<p>
 De manière général, pour obtenir plus d’informations sur les plugins la page de référence se trouve ici :
 <a href="http://docs.getpelican.com/en/stable/plugins.html">
  http://docs.getpelican.com/en/stable/plugins.html
 </a>
 .
</p>
<h3 id="une-extension-pour-générer-un-sitemap">
 <a aria-hidden="true" href="#une-extension-pour-générer-un-sitemap">
  <span class="es-autolink-heading">
  </span>
 </a>
 Une extension pour générer un sitemap
</h3>
<p>
 Afin de voir comment fonctionne les plugins, je vous propose d’en étudier deux :
 <code>
  sitemap
 </code>
 et
 <code>
  subcategory
 </code>
 . Commencons par
 <code>
  sitemap
 </code>
 dans cette partie.
</p>
<h4 id="installer-sitemap">
 <a aria-hidden="true" href="#installer-sitemap">
  <span class="es-autolink-heading">
  </span>
 </a>
 Installer sitemap
</h4>
<p>
 Ce premier plugin permet de générer une page de type
 <em>
  sitemap
 </em>
 . c’est le type de page qui permet d’inventorier les pages accessibles pour les moteurs de recherche notamment. C’est donc plutôt utile si vous êtes sensible à la visibilité de votre site sur internet. En général, cela consiste en un fichier au format
 <code>
  xml
 </code>
 regroupant les pages ainsi que leur date de dernière mise à jour.
</p>
<p>
 Trêve de bavardage, récupérons tout de suite le plugin (via DownGit) à l’adresse suivante :
 <a href="https://github.com/getpelican/pelican-plugins/tree/master/sitemap">
  https://github.com/getpelican/pelican-plugins/tree/master/sitemap
 </a>
 .
</p>
<p>
 Une fois que vous l’avez sur votre disque dur, il vous faudra le déplacer dans le dossier plugin de votre site internet comme vu précédemment. Enfin, il ne reste plus qu’à l’activer en l’ajoutant à la constante
 <code>
  PLUGINS
 </code>
 du fichier de configuration
 <code>
  pelicanconf.py
 </code>
 .
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">PLUGINS = [<span class="hljs-string">"sitemap"</span>]
</code></pre>
</div>
<h4 id="paramétrer-le-plugin">
 <a aria-hidden="true" href="#paramétrer-le-plugin">
  <span class="es-autolink-heading">
  </span>
 </a>
 Paramétrer le plugin
</h4>
<p>
 Comme de très nombreux plugins, sitemap propose des options de configuration. Si vous ne faites rien, il fonctionnera de base très bien. Mais pour des utilisateurs ayant des besoins plus spécifiques, quelques options sont réglables. Ces dernières sont résumé dans le fichier
 <code>
  Readme
 </code>
 du plugin.
</p>
<p>
 La première option est le format du fichier généré. Par défaut, ce sera du
 <code>
  xml
 </code>
 , mais un format texte brut (
 <code>
  txt
 </code>
 ) est aussi possible. Pour choisir, il faut ajouter une nouvelle ligne dans le fichier de configuration
 <code>
  pelicanconf.py
 </code>
 . Cette nouvelle ligne sera une constante du nom de
 <code>
  SITEMAP
 </code>
 et contiendra un dictionnaire des différents paramètres à modifier. Donc pour régler le format de sortie, on obtiendra la ligne suivante :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python"><span class="hljs-comment">## Pour passer au format txt plutôt que xml</span>
SITEMAP = {
    <span class="hljs-string">'format'</span>: <span class="hljs-string">'txt'</span>
}
</code></pre>
</div>
<p>
 Sitemap propose aussi d’exclure des urls pour limiter leur indexation. Cela se fait avec le paramètre
 <code>
  exclude
 </code>
 suivi d’un tableau des adresses à supprimer. Par exemple pour ne pas proposer les pages de tags et de catégories, on modifierai la donnée de la manière suivante :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">SITEMAP = {
    <span class="hljs-string">'format'</span>: <span class="hljs-string">'txt'</span>,
    <span class="hljs-string">'exclude'</span>: [<span class="hljs-string">'tag/'</span>, <span class="hljs-string">'category/'</span>]
}
</code></pre>
</div>
<p>
 Un dernier paramètre intéressant à paramétrer est la fréquence de changement des contenus. Si vos contenus sont susceptibles de changer fréquemment, autant prévenir les moteurs de recherches pour qu’ils reviennent plus souvent voir les différences. Les fréquences possibles sont always (toujours en changement), hourly (toutes les heures), daily (tous les jours), weekly (hebdomadaire), monthly (mensuel), yearly (annuel) et never (ne changera jamais). Ces paramètres peuvent être appliqués aux articles, aux pages ou encore aux indexes (les pages de listes par exemple). Pour cela, on ajoute un dictionnaire à nos données :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">SITEMAP = {
    <span class="hljs-string">'format'</span>: <span class="hljs-string">'txt'</span>,
    <span class="hljs-string">'exclude'</span>: [<span class="hljs-string">'tag/'</span>, <span class="hljs-string">'category/'</span>],
    <span class="hljs-string">'changefreqs'</span>: {
        <span class="hljs-string">'articles'</span>: <span class="hljs-string">'daily'</span>,
        <span class="hljs-string">'pages'</span>: <span class="hljs-string">'monthly'</span>,
        <span class="hljs-string">'indexes'</span>: <span class="hljs-string">'daily'</span>
    }
}
</code></pre>
</div>
<div class="custom-block alert alert-warning">
 <div class="custom-block-body">
  <p>
   Comme dis plus haut, toutes ces configurations sont facultatives, celle par défaut feront sûrement très bien le travail dans la plupart des cas.
  </p>
 </div>
</div>
<p>
 Si jamais vous voulez en savoir plus ou voir les quelques paramètres restants, n’hésitez pas à consulter le Readme dans votre dossier d’installation ou
 <a href="https://github.com/getpelican/pelican-plugins/blob/master/sitemap/Readme.rst">
  en ligne
 </a>
 .
</p>
<h3 id="une-extension-pour-créer-des-sous-catégories">
 <a aria-hidden="true" href="#une-extension-pour-créer-des-sous-catégories">
  <span class="es-autolink-heading">
  </span>
 </a>
 Une extension pour créer des sous-catégories
</h3>
<p>
 Afin de clôturer ce chapitre avec de bonne idées, voici une deuxième extension que j’affectionne : subcategory. Comme son nom l’indique, elle permet de regrouper les contenus en catégories
 <em>
  et
 </em>
 sous-catégories. Par exemple, on pourrait avoir une catégorie "Dessert" qui regrouperait des sous-catégories "gâteaux", "cookies", "crèmes" …
</p>
<p>
 Comme pour le plugin précédent, ce dernier est disponible dans le dépôt principal de pelican-plugins à l’adresse suivante :
 <a href="https://github.com/getpelican/pelican-plugins/tree/master/subcategory">
  https://github.com/getpelican/pelican-plugins/tree/master/subcategory
 </a>
 . Là encore, il faudra le déplacer dans le dossier
 <code>
  plugins/
 </code>
 de votre site web puis l’ajouter à la ligne
 <code>
  PLUGINS
 </code>
 de la configuration :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-python">PLUGINS = [<span class="hljs-string">"sitemap"</span>, <span class="hljs-string">"subcategory"</span>]
</code></pre>
</div>
<p>
 Maintenant, pour l’utiliser c’est très simple. Il suffit simple d’éditer la métadonnée
 <code>
  Category
 </code>
 de vos contenus. Par exemple, pour qu’un article soit automagiquement classé dans la catégorie "Dessert/Gateaux" on fera simplement
 <code>
  Category: Dessert/Gateaux
 </code>
 (le caractère
 <kbd>
  /
 </kbd>
 sert de séparateur). Vous pourrez maintenant assez simplement faire un fil d’ariane dans vos template en utilisant nouvelle variable
 <code>
  subcategories
 </code>
 . Par exemple :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ article.category.url }}"</span>&gt;</span>{{ article.category}}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    {% for subcategory in article.subcategories %}
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"breadcrumb-item"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ subcategory.url }}"</span>&gt;</span>{{ subcategory.shortname }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
    {% endfor %}
    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"breadcrumb-item active"</span> <span class="hljs-attr">aria-current</span>=<span class="hljs-string">"page"</span>&gt;</span>{{ article.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
</code></pre>
</div>
<p>
 Là encore, quelques paramètres sont disponibles, surtout lié aux chemins d’enregistrement des fichiers. Ceux par défaut sont de nouveaux très bien. Je vous laisse les consulter dans
 <a href="https://github.com/getpelican/pelican-plugins/blob/master/subcategory/README.md#settings">
  le README, à la section
  <em>
   settings
  </em>
 </a>
 .
</p>
<p>
 Vous savez maintenant comment ajouter des nouvelles fonctionnalités à votre générateur de site. Dorénavant, si une fonctionnalité vous manque, vous pourrez carrément la coder vous même afin d’enrichir votre contenu facilement. A ce sujet, j’avais de mon côté fait un plugin pour générer des pages à partir du format markdown utilisé sur Zeste de Savoir, le zmarkdown.
 <a href="https://eskimon.fr/comment-et-pourquoi-jai-intégré-zmarkdown-à-pelican">
  Voici l’article à ce sujet
 </a>
 .
</p>
            </div>
            <!-- /.entry-content -->
            <hr>
            <div class="row bg-light my-2 py-2 rounded">
                <div class="col mr-auto">
                    <a class="" href="/tuto-pelican-305-tp-page-daccueil" rel="prev">
                        <i class="fas fa-chevron-left fa-lg"></i>
                        tuto-pelican-305-tp-page-daccueil
                    </a>
                </div>
                <div class="col-auto">
                    <a class="" href="/tuto-pelican-402-quelques-paramètres-de-configuration" rel="next">
                        tuto-pelican-402-quelques-paramètres-de-configuration
                        <i class="fas fa-chevron-right fa-lg"></i>
                    </a>
                </div>
            </div>
            <div class="text-center">
                <img class="es-licence-pic" src="/static/images/CC BY-NC-SA.png" alt="Licence CC BY-NC-SA" title="Article sous licence CC BY-NC-SA">
            </div>
            <div class="my-3 text-center">
                <a class="btn btn-outline-dark mx-1" href="https://twitter.com/share?url=https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins&amp;text=Utiliser des plugins - https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins" rel="nofollow" title="Partager cet article sur Twitter" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-twitter fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://www.facebook.com/sharer.php?u=https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins&amp;t=Utiliser des plugins - https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins" rel="nofollow" title="Partager cet article sur Facebook" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-facebook-f fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://plus.google.com/share?url=https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins&amp;hl=fr" rel="nofollow" title="Partager cet article sur Google +" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>
                <!--<a class="btn btn-outline-dark mx-1" href="http://sharetodiaspora.github.io/?url=https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins&amp;title=Utiliser des plugins - https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins" rel="nofollow"  title="Partager cet article sur Diaspora" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>-->
                <a class="btn btn-outline-dark mx-1" href="mailto:?subject=Utiliser des plugins&amp;body=https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins"rel="nofollow" title="Partager cet article par email" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="far fa-envelope fa-lg"></i>
                </a>
            </div>
            <hr>
            <div class="text-center">
                <!-- billboard horizontal fin article -->
                <ins class="adsbygoogle" style="display:inline-block;width:970px;height:250px" data-ad-client="ca-pub-2080155902357792" data-ad-slot="6471099302"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <!-- disqus start -->
            <div id="disqus_thread"></div>
            <script>
                var disqus_config = function () {
                    this.page.url = 'https://eskimon.fr/tuto-pelican-401-utiliser-des-plugins';
                    this.page.identifier = 'tuto-pelican-401-utiliser-des-plugins';
                    this.page.title = 'Utiliser des plugins';
                };
                (function () { // DON'T EDIT BELOW THIS LINE
                    var d = document, s = d.createElement('script');
                    s.src = 'https://eskimon-fr.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the
                <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
            </noscript>
            <!-- disqus end -->
        </article>
    </div>
    <div class="d-none d-xl-block col-xl-1 offset-xl-1 px-0">
        <div class="d-flex flex-column justify-content-around align-items-end h-100" id="es-right-ad-block">
            <!-- Pub ajouté auto -->
        </div>
    </div>
</div>
    </div>
<footer class="container-fluid bg-dark small text-white px-3">
<div class="row">
    <div class="col align-self-center">
        © Eskimon -
        Blog propulsé par <a class="bold text-white" href="https://blog.getpelican.com/" rel="nofollow">Pelican</a> -
        Thème fait maison
    </div>
    <div class="col align-self-end text-right">
        <a class="btn btn-lg text-light" href="https://github.com/Eskimon" rel="nofollow" title="Mon profil Github">
            <i class="fab fa-github fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://twitter.com/Eskimon_fr" rel="nofollow" title="Me suivre sur Twitter">
            <i class="fab fa-twitter fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch">
            <i class="fab fa-twitch fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://www.youtube.com/user/Eskimon49/featured" rel="nofollow" title="Les VOD sur Youtube">
            <i class="fab fa-youtube fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://discord.gg/9SkDWft" rel="nofollow" title="Venez participer sur Discord">
            <i class="fab fa-discord fa-lg"></i>
        </a>
    </div>
  </div>
</footer>
    <!-- For formula -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Font awesome -->
    <script src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
    <!-- JQuery first -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- For tooltips -->
    <script>$(function () {  $('[data-toggle="tooltip"]').tooltip()})</script>
    <script src="/static/js/my-scripts.js"></script>
<script>
function create_side_summary() {
    // Duplicate summary
    var main_summary = $('#sommaire').next();
    if(main_summary.length === 0)
        return
    var side_summary = main_summary.clone();
    side_summary.addClass('pl-0');
    var all_p = side_summary.find('p');
    all_p.contents().unwrap();
    var all_li = side_summary.find('li');
    all_li.addClass('pl-1');

    // scrollspy - in
    side_summary.attr('id', 'es-side-summary-mainlist');
    //side_summary.addClass('nav');
    //all_li.addClass('nav-item');
    var all_a = side_summary.find('a');
    all_a.addClass('nav-link');
    var all_ul = side_summary.find('ul');
    all_ul.addClass('pl-1');
    $('body').scrollspy({ target: '#es-side-summary-mainlist' });
    // scrollspy - out

    var summary_title = document.createElement("h4");
    summary_title.className = 'navbar-brand';
    summary_title.innerHTML = 'Sommaire';
    $(summary_title).prependTo('#es-side-summary-content');
    side_summary.appendTo('#es-side-summary-content');
    main_summary.addClass('es-subul-collapse');
}

function generate_spoilers() {
    all_secret = $('.custom-block-spoiler');
    all_secret.each(function( index ) {
        let content = $(this).html();
        $(this).html('');
        $(this).addClass('card');
        var headerText = document.createElement("button");
        var cardHeader = document.createElement("div");
        var cardBodyWrapper = document.createElement("div");
        var cardBody = document.createElement("div");
        $(headerText).text('Contenu masqué, cliquez pour afficher');
        $(headerText).addClass('btn btn-link btn-sm');
        $(headerText).attr('data-toggle', 'collapse');
        $(headerText).attr('data-target', '#collapse-' + index);
        $(headerText).attr('aria-controls', 'collapse-' + index);
        $(headerText).attr('aria-expanded', 'false');
        $(cardHeader).append(headerText);
        $(cardHeader).addClass('card-header');
        $(cardHeader).attr('id', 'spoiler-' + index);
        $(cardBody).html(content);
        $(cardBody).addClass('card-body');
        $(cardBodyWrapper).append(cardBody);
        $(cardBodyWrapper).addClass('collapse hide');
        $(cardBodyWrapper).attr('id', 'collapse-' + index)
        $(cardBodyWrapper).attr('aria-labelledby', 'spoiler-' + index)
        $(this).prepend(cardHeader);
        $(this).append(cardBodyWrapper);
    });

    $('.collapse').collapse({toggle: false});
}

function load_extra_ads() {
    return;
    // Load right side blocks
    var sidebar = $('#es-right-ad-block');
    var n_height = Math.floor(sidebar.height() / 2000);
    for (i = 0; i < n_height; i++) {
        var frag = document.createDocumentFragment();
        var newAdBlock = document.createElement("div");
        var block1 = document.createElement("ins");
        var block2 = document.createElement("script");

        block1.innerHTML = '<ins class="adsbygoogle" ' +
            'style="display:inline-block;width:120px;height:600px" ' +
            'data-ad-client="ca-pub-2080155902357792" ' +
            'data-ad-slot="4023722026"></ins>';
        block2.innerHTML = '(adsbygoogle = window.adsbygoogle || []).push({});';

        $(newAdBlock).append(block1);
        $(newAdBlock).append(block2);
        $(frag).append(newAdBlock);

        $(sidebar).append(frag);
    }

    // Load in feed blocks (above every h3)
    var frag = document.createDocumentFragment();
    var newAdBlock = document.createElement("div");
    var block1 = document.createElement("ins");
    var block2 = document.createElement("script");
    block1.innerHTML = '<ins class="adsbygoogle"' +
    'style = "display:inline-block;width:970px;height:90px"' +
    'data - ad - client="ca-pub-2080155902357792"' +
    'data - ad - slot="7100712740" ></ins >'
    block2.innerHTML = '(adsbygoogle = window.adsbygoogle || []).push({});';
    $(newAdBlock).append(block1);
    $(newAdBlock).append(block2);
    newAdBlock.className = 'my-3 text-center';
    $(frag).append(newAdBlock);
    var titles = $('.entry-content h3').slice(1);
    $(frag).insertBefore(titles);
}

$(document).ready(function () {

    create_side_summary();
    generate_spoilers();
    load_extra_ads();

    // when opening the sidebar
    $('#sidebarCollapse').on('click', function () {
        // open sidebar
        $('#es-side-summary').removeClass('d-none');
        $('#es-content').addClass('d-none');
        $('#sidebarCollapse').removeClass('sticky-top');
    });

    // if dismiss or overlay was clicked
    $('#es-side-summary').on('click', function () {
      // hide the sidebar
      $('#es-side-summary').addClass('d-none');
      $('#es-content').removeClass('d-none');
      $('#sidebarCollapse').addClass('sticky-top');
    });
});
</script>

<script id="dsq-count-scr" src="//eskimon-fr.disqus.com/count.js" async></script>
</body>

</html>