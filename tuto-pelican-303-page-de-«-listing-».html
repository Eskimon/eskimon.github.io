<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Page de  « listing » &bull; Le blog d'Eskimon</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/hljs-monokai.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="/static/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/static/images/favicon/ms-icon-144x144.png">

    <link href="https://eskimon.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Le blog d'Eskimon Atom Feed" />
    <link href="https://eskimon.fr/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Le blog d'Eskimon RSS Feed" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-46353906-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-46353906-1');
    </script>

<<<<<<< HEAD
    <!-- Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->
    <script type="text/javascript" async="true">
    (function() {
        var host = 'www.themoneytizer.com';
        var element = document.createElement('script');
        var firstScript = document.getElementsByTagName('script')[0];
        var url = 'https://quantcast.mgr.consensu.org'
            .concat('/choice/', '6Fv0cGNfc_bw8', '/', host, '/choice.js')
        var uspTries = 0;
        var uspTriesLimit = 3;
        element.async = true;
        element.type = 'text/javascript';
        element.src = url;

        firstScript.parentNode.insertBefore(element, firstScript);

        function makeStub() {
            var TCF_LOCATOR_NAME = '__tcfapiLocator';
            var queue = [];
            var win = window;
            var cmpFrame;

            function addFrame() {
                var doc = win.document;
                var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);

                if (!otherCMP) {
                    if (doc.body) {
                        var iframe = doc.createElement('iframe');

                        iframe.style.cssText = 'display:none';
                        iframe.name = TCF_LOCATOR_NAME;
                        doc.body.appendChild(iframe);
                    } else {
                        setTimeout(addFrame, 5);
                    }
                }
                return !otherCMP;
            }

            function tcfAPIHandler() {
                var gdprApplies;
                var args = arguments;

                if (!args.length) {
                    return queue;
                } else if (args[0] === 'setGdprApplies') {
                    if (
                        args.length > 3 &&
                        args[2] === 2 &&
                        typeof args[3] === 'boolean'
                    ) {
                        gdprApplies = args[3];
                        if (typeof args[2] === 'function') {
                            args[2]('set', true);
                        }
                    }
                } else if (args[0] === 'ping') {
                    var retr = {
                        gdprApplies: gdprApplies,
                        cmpLoaded: false,
                        cmpStatus: 'stub'
                    };

                    if (typeof args[2] === 'function') {
                        args[2](retr);
                    }
                } else {
                    queue.push(args);
                }
            }

            function postMessageEventHandler(event) {
                var msgIsString = typeof event.data === 'string';
                var json = {};

                try {
                    if (msgIsString) {
                        json = JSON.parse(event.data);
                    } else {
                        json = event.data;
                    }
                } catch (ignore) {}

                var payload = json.__tcfapiCall;

                if (payload) {
                    window.__tcfapi(
                        payload.command,
                        payload.version,
                        function(retValue, success) {
                            var returnMsg = {
                                __tcfapiReturn: {
                                    returnValue: retValue,
                                    success: success,
                                    callId: payload.callId
                                }
                            };
                            if (msgIsString) {
                                returnMsg = JSON.stringify(returnMsg);
                            }
                            event.source.postMessage(returnMsg, '*');
                        },
                        payload.parameter
                    );
                }
            }

            while (win) {
                try {
                    if (win.frames[TCF_LOCATOR_NAME]) {
                        cmpFrame = win;
                        break;
                    }
                } catch (ignore) {}

                if (win === window.top) {
                    break;
                }
                win = win.parent;
            }
            if (!cmpFrame) {
                addFrame();
                win.__tcfapi = tcfAPIHandler;
                win.addEventListener('message', postMessageEventHandler, false);
            }
        };

        if (typeof module !== 'undefined') {
            module.exports = makeStub;
        } else {
            makeStub();
        }

        var uspStubFunction = function() {
            var arg = arguments;
            if (typeof window.__uspapi !== uspStubFunction) {
                setTimeout(function() {
                    if (typeof window.__uspapi !== 'undefined') {
                        window.__uspapi.apply(window.__uspapi, arg);
                    }
                }, 500);
            }
        };

        var checkIfUspIsReady = function() {
            uspTries++;
            if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
                console.warn('USP is not accessible');
            } else {
                clearInterval(uspInterval);
            }
        };

        if (typeof window.__uspapi === 'undefined') {
            window.__uspapi = uspStubFunction;
            var uspInterval = setInterval(checkIfUspIsReady, 6000);
        }
    })();
    </script>
    <!-- End Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->
=======
<!-- Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->
<script type="text/javascript" async="true">
(function() {
    var host = 'www.themoneytizer.com';
    var element = document.createElement('script');
    var firstScript = document.getElementsByTagName('script')[0];
    var url = 'https://quantcast.mgr.consensu.org'
        .concat('/choice/', '6Fv0cGNfc_bw8', '/', host, '/choice.js')
    var uspTries = 0;
    var uspTriesLimit = 3;
    element.async = true;
    element.type = 'text/javascript';
    element.src = url;

    firstScript.parentNode.insertBefore(element, firstScript);

    function makeStub() {
        var TCF_LOCATOR_NAME = '__tcfapiLocator';
        var queue = [];
        var win = window;
        var cmpFrame;

        function addFrame() {
            var doc = win.document;
            var otherCMP = !!(win.frames[TCF_LOCATOR_NAME]);

            if (!otherCMP) {
                if (doc.body) {
                    var iframe = doc.createElement('iframe');

                    iframe.style.cssText = 'display:none';
                    iframe.name = TCF_LOCATOR_NAME;
                    doc.body.appendChild(iframe);
                } else {
                    setTimeout(addFrame, 5);
                }
            }
            return !otherCMP;
        }

        function tcfAPIHandler() {
            var gdprApplies;
            var args = arguments;

            if (!args.length) {
                return queue;
            } else if (args[0] === 'setGdprApplies') {
                if (
                    args.length > 3 &&
                    args[2] === 2 &&
                    typeof args[3] === 'boolean'
                ) {
                    gdprApplies = args[3];
                    if (typeof args[2] === 'function') {
                        args[2]('set', true);
                    }
                }
            } else if (args[0] === 'ping') {
                var retr = {
                    gdprApplies: gdprApplies,
                    cmpLoaded: false,
                    cmpStatus: 'stub'
                };

                if (typeof args[2] === 'function') {
                    args[2](retr);
                }
            } else {
                queue.push(args);
            }
        }

        function postMessageEventHandler(event) {
            var msgIsString = typeof event.data === 'string';
            var json = {};

            try {
                if (msgIsString) {
                    json = JSON.parse(event.data);
                } else {
                    json = event.data;
                }
            } catch (ignore) {}

            var payload = json.__tcfapiCall;

            if (payload) {
                window.__tcfapi(
                    payload.command,
                    payload.version,
                    function(retValue, success) {
                        var returnMsg = {
                            __tcfapiReturn: {
                                returnValue: retValue,
                                success: success,
                                callId: payload.callId
                            }
                        };
                        if (msgIsString) {
                            returnMsg = JSON.stringify(returnMsg);
                        }
                        event.source.postMessage(returnMsg, '*');
                    },
                    payload.parameter
                );
            }
        }

        while (win) {
            try {
                if (win.frames[TCF_LOCATOR_NAME]) {
                    cmpFrame = win;
                    break;
                }
            } catch (ignore) {}

            if (win === window.top) {
                break;
            }
            win = win.parent;
        }
        if (!cmpFrame) {
            addFrame();
            win.__tcfapi = tcfAPIHandler;
            win.addEventListener('message', postMessageEventHandler, false);
        }
    };

    if (typeof module !== 'undefined') {
        module.exports = makeStub;
    } else {
        makeStub();
    }

    var uspStubFunction = function() {
        var arg = arguments;
        if (typeof window.__uspapi !== uspStubFunction) {
            setTimeout(function() {
                if (typeof window.__uspapi !== 'undefined') {
                    window.__uspapi.apply(window.__uspapi, arg);
                }
            }, 500);
        }
    };

    var checkIfUspIsReady = function() {
        uspTries++;
        if (window.__uspapi === uspStubFunction && uspTries < uspTriesLimit) {
            console.warn('USP is not accessible');
        } else {
            clearInterval(uspInterval);
        }
    };

    if (typeof window.__uspapi === 'undefined') {
        window.__uspapi = uspStubFunction;
        var uspInterval = setInterval(checkIfUspIsReady, 6000);
    }
})();
</script>
<!-- End Quantcast Choice. Consent Manager Tag v2.0 (for TCF 2.0) -->

>>>>>>> 07d430192668a10dc8482119a1f14d9564c60611

    <meta name="description" content="Auteurs, articles, tags, gérons les listes dans notre thème Pelican." />

  <meta name="tags" content="python" />
  <meta name="tags" content="pelican" />
  <meta name="tags" content="tuto" />


  <meta property="og:site_name" content="Le blog d'Eskimon">
  <meta property="og:title" content="Page de  « listing »">
  <meta property="og:url" content="https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»">
  <meta property="og:language" content="fr_FR">
  <meta property="og:type" content="website">

  <meta property="twitter:domain" content="https://eskimon.fr/">
  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»">
  <meta property="twitter:title" content="Page de  « listing »">
<meta property="twitter:description" content="Auteurs, articles, tags, gérons les listes dans notre thème Pelican.">  <meta property="twitter:site" content="SITENAME">
  <meta property="twitter:creator" content="@eskimon_fr">

  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
  <meta name="DC.publisher" lang="fr" content="Le blog d'Eskimon" />
  <meta name="DC.creator" content="Eskimon" />
  <meta name="DC.type" content="text" />
  <meta name="DC.title" content="Page de  « listing »" />
  <meta name="DC.abstract" content="Page de  « listing » – Auteurs, articles, tags, gérons les listes dans notre thème Pelican." />
  <meta name="DC.subject" lang="fr" content="Web/C - Customisons le rendu de notre site – python; pelican; tuto" />
<meta name="DC.description" lang="fr" content="Auteurs, articles, tags, gérons les listes dans notre thème Pelican." />  <meta name="DC.date" content="2018-10-27T09:00:00+02:00" />
  <meta name="DC.format" content="text/html" />
  <meta name="DC.language" content="fr" />
  <meta name="DC.rights" content="CC BY-NC-SA" />

  <script type="application/ld+json">
    [{
        "@context": "http://schema.org",
        "@type": "Article",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»"
        },
        "headline": ""Page de  \u00ab listing \u00bb"",
        "datePublished": "2018-10-27T09:00:00+02:00",
        "image": [
            "https://eskimon.fr/static/images/logo.png"
        ],
        "author": {
            "@type": "Person",
            "name": "Eskimon",
            "image": "https://eskimon.fr/static/images/logo.png"
        },
        "publisher": {
            "@type": "Organization",
            "name": "Eskimon",
            "logo": {
                "@type": "ImageObject",
                "url": "https://eskimon.fr/static/images/logo.png"
            }
        },
        "description": ""Auteurs, articles, tags, g\u00e9rons les listes dans notre th\u00e8me Pelican.""
    },
    {
        "@context": "http://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "item": {
                "@id": "https://eskimon.fr/category/web",
                "name": ""Web""
            }
        }
        , {
            "@type": "ListItem",
            "position": 2,
            "item": {
                "@id": "https://eskimon.fr/subcategory/web/c-customisons-le-rendu-de-notre-site",
                "name": ""C - Customisons le rendu de notre site""
            }
        }
        , {
            "@type": "ListItem",
            "position": 3,
            "item": {
                "@id": "https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»",
                "name": ""Page de  \u00ab listing \u00bb""
            }
        }]
    }]
    </script>

</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light bg-secondary-l40 py-0">
    <a class="navbar-brand" href="/">
        <img src="/static/images/logo.png" width="20" height="20" alt="">
        Le blog d'Eskimon
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div></div>
        <div>
            <a class="btn btn-lg text-secondary" href="https://github.com/Eskimon" rel="nofollow" title="Mon profil Github">
                <i class="fab fa-github fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://twitter.com/Eskimon_fr" rel="nofollow" title="Me suivre sur Twitter">
                <i class="fab fa-twitter fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch">
                <i class="fab fa-twitch fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://www.youtube.com/user/Eskimon49/featured" rel="nofollow" title="Les VOD sur Youtube">
                <i class="fab fa-youtube fa-lg"></i>
            </a>
            <a class="btn btn-lg text-secondary" href="https://discord.gg/9SkDWft" rel="nofollow" title="Venez participer sur Discord">
                <i class="fab fa-discord fa-lg"></i>
            </a>
        </div>
        <div class="navbar-nav">
                <a class="nav-item nav-link " href="/category/arduino">Arduino</a>
                <a class="nav-item nav-link " href="/category/articles">Articles</a>
                <a class="nav-item nav-link active" href="/category/web">Web</a>
        </div>
    </div>
</nav>
    <div class="container-fluid es-verticalfill">
<div class="row">
    <!-- Sidebar -->
    <div class="col-lg-2 d-none d-lg-block sticky-top es-scrollable pt-3 px-1 bg-light es-ul-bordered" id="es-side-summary">
        <nav class="px-2" id="es-side-summary-content">
            <!-- Summary will come here -->
        </nav>
        <hr>
        <!-- Self-promo for ebook -->
        <div class="text-center">
            <h4>Ebook Arduino !</h4>
            <a href="/ebook-tutoriel-arduino.html"><img src="/images/couverture-mini.png" alt="couverture ebook" title="couverture de l'ebook"></a>
        </div>
    </div>
    <!-- Main content -->
    <div class="col-md-10 col-lg-8 col-xl-7 offset-md-1 offset-lg-1 offset-xl-1 d-block pt-3" id="es-content">

        <div class="row">
            <div class="col ml-auto mr-auto text-center">
                <div class="custom-block alert alert-info">
                    <div class="custom-block-body">
                        <p>
                        Vous avez une question ? Une remarque ? N'hésitez pas à venir en parler dans le chat si je suis en cours de diffusion !
                        </p>
                        <iframe src="https://player.twitch.tv/?channel=eskimon&amp;muted=true&amp;autoplay=true&parent=eskimon.fr" scrolling="false" allowfullscreen="true" width="450" height="260" frameborder="0"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <article>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-white">
                    <li class="breadcrumb-item"><a href="/category/web">Web</a></li>
                        <li class="breadcrumb-item"><a href="/subcategory/web/c-customisons-le-rendu-de-notre-site">C - Customisons le rendu de notre site</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Page de  « listing »</li>
                </ol>
            </nav>
            <header class="es-post-info">
                <h1 class="text-center my-4">Page de  « listing »</h1>
            </header>
            <footer class="es-post-info pb-2 mb-2">
                <div class="row align-items-center">
                    <div class="col-auto mr-auto">
                        <span class="vcard author">
                            <a class="" href="/author/eskimon" rel="author">Eskimon</a>
                        </span>
                        ,
                        <time class="" datetime="2018-10-27T09:00:00+02:00" pubdate>
                            le sam. 27 octobre 2018
                        </time>
                    </div>
                    <div class="col-auto">
                        <a class="btn btn-outline-primary btn-sm" href="/tag/python" rel="tag">python</a>
                        <a class="btn btn-outline-primary btn-sm" href="/tag/pelican" rel="tag">pelican</a>
                        <a class="btn btn-outline-primary btn-sm" href="/tag/tuto" rel="tag">tuto</a>
                    </div>
                </div>
            </footer>
            <button type="button" id="sidebarCollapse" class="float-right btn btn-secondary sticky-top d-block d-lg-none">
                Sommaire
            </button>
            <!-- /.post-info -->
            <div class="entry-content">
                <p>
 Avec le chapitre précédent c’est un bon gros morceau qui est abattu ! Ce chapitre ici fera un peu office de pause
 <img alt=":)" class="smiley" src="./static/smileys/smile.png"/>
 Il sera plus léger et les pages que nous allons réaliser sont moins primordiales pour les visiteurs. J’espère cependant que vous le trouverez tout aussi intéressant !
</p>
<p>
 Nous allons ici créer les pages de «
 <em>
  listings
 </em>
 ». Ce sont les pages qui liste les articles correspondants à une catégorie, un auteur ou un tag. Il existe plein de manières de présenter ces différentes pages (comme par exemple faire un nuage de mots pour une page qui recense tous les tags), mais nous nous contenterons de faire simple ici et toutes les pages auront donc la même présentation, des listes !
</p>
<h3 id="sommaire">
 <a aria-hidden="true" href="#sommaire">
  <span class="es-autolink-heading">
  </span>
 </a>
 Sommaire
</h3>
<ul>
 <li>
  <p>
   <a href="#les-pages-de-listes">
    Les pages de listes
   </a>
  </p>
  <ul>
   <li>
    <a href="#les-pages-de-haut-niveau">
     Les pages de haut niveau
    </a>
   </li>
   <li>
    <a href="#les-pages-de-listes-darticles">
     Les pages de listes d’articles
    </a>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#les-listes-de-«haut-niveau»">
    Les listes de « haut niveau »
   </a>
  </p>
  <ul>
   <li>
    <a href="#modèle-générale">
     Modèle générale
    </a>
   </li>
   <li>
    <a href="#un-peu-doptimisation">
     Un peu d’optimisation
    </a>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#les-listes-darticles">
    Les listes d’articles
   </a>
  </p>
  <ul>
   <li>
    <a href="#factorisation">
     Factorisation
    </a>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#annexe-la-pagination">
    Annexe : La pagination
   </a>
  </p>
  <ul>
   <li>
    <a href="#lobjet-page">
     L’objet Page
    </a>
   </li>
   <li>
    <a href="#lobjet-paginator">
     L’objet Paginator
    </a>
   </li>
   <li>
    <a href="#mettre-tout-cela-en-œuvre">
     Mettre tout cela en œuvre
    </a>
   </li>
   <li>
    <a href="#améliorer-le-paginateur">
     Améliorer le paginateur
    </a>
   </li>
  </ul>
 </li>
</ul>
<h3 id="les-pages-de-listes">
 <a aria-hidden="true" href="#les-pages-de-listes">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les pages de listes
</h3>
<p>
 Comme dit dans l’intro, plusieurs pages de "listings" existent et on peut les classer en deux catégories :
</p>
<ul>
 <li>
  Les pages de "Haut niveau" qui listent les auteurs, les catégories ou encore les tags ;
 </li>
 <li>
  Les pages de "listes d’articles" qui vont lister tout les articles d’une page de haut niveau, par exemple tout les articles écrits par Eskimon.
 </li>
</ul>
<h4 id="les-pages-de-haut-niveau">
 <a aria-hidden="true" href="#les-pages-de-haut-niveau">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les pages de haut niveau
</h4>
<p>
 On trouve 3 pages de haut niveau, que nous avons déjà très brièvement vu dans l’arborescence des fichiers du thème. Il s’agit des fichiers suivants :
</p>
<ul>
 <li>
  <code>
   authors.html
  </code>
  : Qui liste tous les auteurs ayant au moins écrit un article sur votre site ;
 </li>
 <li>
  <code>
   categories.html
  </code>
  : Qui liste toutes les catégories contenant au moins un article ;
 </li>
 <li>
  <code>
   tags.html
  </code>
  : Qui liste tous les tags contenant au moins un article.
 </li>
</ul>
<p>
 Vous remarquez que ces noms de fichiers sont en anglais, afin de bien illustrer qu’ils listent les éléments eux mêmes (les tag
 <strong>
  s
 </strong>
 ) par exemple) et non pas le contenu d’un élément (les articles
 <strong>
  d’un
 </strong>
 tag). En effet, ces derniers sont gérés par les pages de listes d’articles.
</p>
<h4 id="les-pages-de-listes-darticles">
 <a aria-hidden="true" href="#les-pages-de-listes-darticles">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les pages de listes d’articles
</h4>
<p>
 Et c’est avec cette superbe transition que je vais vous présenter les pages qui vont servir à donner le détail du contenu d’une page de haut niveau. Par exemple, tous les articles écrits par Eskimon et personne d’autres.
</p>
<p>
 Ces pages ont le même nom que leur pendant de haut-niveau, mais au singulier. Pratique non ? Logiquement, on trouve donc :
</p>
<ul>
 <li>
  <code>
   author.html
  </code>
  : Qui liste tous les articles d’un auteur ;
 </li>
 <li>
  <code>
   category.html
  </code>
  : Qui liste tous les articles d’une catégorie ;
 </li>
 <li>
  <code>
   tag.html
  </code>
  : Qui liste tous les articles d’un tag.
 </li>
</ul>
<p>
 Maintenant que les présentations sont faites, voyons comment nous allons construire tout cela.
</p>
<div class="custom-block alert alert-primary">
 <div class="custom-block-body">
  <p>
   Ces listes ne sont pas immuables. En effet, certains
   <em>
    plugins
   </em>
   (comme le fameux
   <em>
    subcategories
   </em>
   ) peuvent rajouter de nouveaux fichiers de listings qu’il faudra alors créer.
  </p>
 </div>
</div>
<h3 id="les-listes-de-«haut-niveau»">
 <a aria-hidden="true" href="#les-listes-de-«haut-niveau»">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les listes de « haut niveau »
</h3>
<p>
 Nous allons dès à présent voir le principe de réalisation de nos différentes pages. Là encore nous allons le faire en deux étapes, les pages de haut-niveau et celle listant des articles. Deux astuces vont être utiles ici, la généralisation de codes et l’utilisation de la balise
 <code>
  include
 </code>
 . Commençons par les pages de haut niveau.
</p>
<h4 id="modèle-générale">
 <a aria-hidden="true" href="#modèle-générale">
  <span class="es-autolink-heading">
  </span>
 </a>
 Modèle générale
</h4>
<p>
 Prenons comme exemple la page listant les catégories et partons du principe que nos articles se divisent pour le moment en deux catégories : "Cookies" et "Gateaux". L’objectif de la page
 <code>
  categories.html
 </code>
 sera donc de nous lister ces deux catégories, avec en bonus le nombre d’articles que chacune possèdent.
</p>
<p>
 Lorsque l’on va faire un tour sur la
 <a href="http://docs.getpelican.com/en/stable/themes.html#common-variables">
  documentation de création de thème de Pelican
 </a>
 , on voit que toutes les pages recoivent les variables contenant tout les auteurs (
 <code>
  authors
 </code>
 ), les catégories (
 <code>
  categories
 </code>
 ) ou encore les (
 <code>
  tags
 </code>
 ). Il nous faut donc utiliser la bonne sur la bonne page. Ensuite, une simple boucle
 <code>
  for
 </code>
 permet de générer la liste et hop, le tour est joué !
</p>
<p>
 Par exemple, voilà ce que l’on pourrait faire :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% extends "base.html" %}


{% block content %}

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-title"</span>&gt;</span>Liste des catégories<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
{% for cat, articles in categories|sort %}
<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-title"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ cat.url }}"</span>&gt;</span>{{ cat }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-count"</span>&gt;</span>
        ({{ articles|count }} article{% if articles|length &gt; 1 %}s{% endif %})
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
{% endfor %}

{% endblock %}
</code></pre>
</div>
<p>
 C’est somme toute assez simple. Tout d’abord, on "étend" le squelette
 <code>
  base.html
 </code>
 , sans quoi on n’aurait pas la base même de la page. Ensuite, on personnalise le
 <em>
  block
 </em>
 "content". Dans ce dernier, on placera tout d’abord un titre ("Liste des catégories") puis ensuite, une boucle
 <code>
  for
 </code>
 va itérer sur la variable
 <code>
  categories
 </code>
 pour en resortir à chaque tour une catégorie (variable
 <code>
  cat
 </code>
 ) et la liste d’articles contenu dans cette dernière (variables
 <code>
  articles
 </code>
 ). Enfin, on construit une section dans la boucle for pour placer tout ses éléments.
</p>
<p>
 Voici un exemple de rendu que l’on obtient en visitant la page
 <a href="http://localhost:8000">
  http://localhost:8000
 </a>
 (rappel, il faut que le serveur de développement soit en marche) :
</p>
<figure>
 <img alt="Rendu de la liste des catégories" src="./images/uploaded/tuto-pelican-303-page-de-«-listing-»/rendu-de-la-liste-des-categories.png"/>
 <figcaption>
  Rendu de la liste des catégories
 </figcaption>
</figure>
<p>
 (CSS ci-dessous)
</p>
<div class="custom-block custom-block-spoiler">
 <div class="custom-block-body">
  <div class="hljs-code-div">
   <div class="hljs-line-numbers">
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
   </div>
   <pre><code class="hljs language-css"><span class="hljs-selector-class">.content</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(0,0,0,.125);
  <span class="hljs-attribute">border-radius</span>: .<span class="hljs-number">25rem</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span>, <span class="hljs-selector-tag">h4</span>, <span class="hljs-selector-tag">h5</span> {
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
}

<span class="hljs-selector-class">.list-title</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-class">.list-element</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> solid <span class="hljs-built_in">rgba</span>(0,0,0,.375);
  <span class="hljs-attribute">border-radius</span>: .<span class="hljs-number">25rem</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.list-element-title</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;
}
</code></pre>
  </div>
 </div>
</div>
<div class="custom-block alert alert-info">
 <div class="custom-block-body">
  <p>
   Avez-vous remarqué l’utilisation de la structure
   <code>
    {% if ... %} ... {% endif %}
   </code>
   pour mettre au pluriel le mot
   <em>
    article
   </em>
   ?
  </p>
 </div>
</div>
<h4 id="un-peu-doptimisation">
 <a aria-hidden="true" href="#un-peu-doptimisation">
  <span class="es-autolink-heading">
  </span>
 </a>
 Un peu d’optimisation
</h4>
<p>
 Bon c’est chouette, on a un truc qui tourne et donne un rendu. Maintenant il suffit de copier/coller ça pour les tags et les auteurs, modifier le titre et en avant Guingamp n’est ce pas ?!
</p>
<p>
 <img alt=":waw:" class="smiley" src="./static/smileys/waw.png"/>
</p>
<p>
 Mauvais réflexe ! Le copier-coller n’est pas toujours la solution ! Imaginons nous faisons une modification sur le nom d’une classe par exemple, eh bien il ne faudrait surtout pas oublier de la refaire dans les autres fichiers, sinon on aurait un site qui serait propre par endroit, mais avec des vieux morceaux à d’autres !
</p>
<p>
 Bon ok je chipote un peu pour 3 fichiers, mais quand même, pour le principe (et pour l’exercice) on va faire en sorte de rendre notre code le plus générique possible. Ainsi, en donnant un bon gros coup de hache dedans, on va se retrouver avec ça :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% extends "base.html" %}

{% block content %}
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-title"</span>&gt;</span>Liste des catégories<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
{% set _object = categories %}
{% include 'parts/high-level-list.part.html' %}
{% endblock %}
</code></pre>
</div>
<p>
 Léger non ? Que s’est-il passé ?
</p>
<p>
 Tout d’abord, on a gardé le titre du contenu, puisque ce dernier ne peut pas être deviné. Ensuite, on crée une variable avec le mot-clé
 <code>
  set
 </code>
 et la syntaxe
 <code>
  {% set ma_variable = ma_valeur %}
 </code>
 . Ici la variable s’appellera
 <code>
  _object
 </code>
 et aura pour valeur la variable globales de Pelican
 <code>
  categories
 </code>
 (l’underscore devant le nom servant par convention à symboliser une variable privée dans de nombreux langages).
</p>
<p>
 Ensuite, on insère un fragment de code situé dans le dossier
 <code>
  parts
 </code>
 et se nommant
 <code>
  high-level-list.part.html
 </code>
 . C’est ce dernier qui ira construire notre liste de catégories (en fait quelque soit la liste dans
 <code>
  _object
 </code>
 ) comme précédemment, seule la variable utilisée change.
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% for obj, articles in _object|sort %}
<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-title"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ obj.url }}"</span>&gt;</span>{{ obj }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-count"</span>&gt;</span>
        ({{ articles|count }} article{% if articles|length &gt; 1 %}s{% endif %})
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
{% endfor %}
</code></pre>
</div>
<p>
 Vous cernez la flexibilité du truc ? Maintenant pour les pages
 <code>
  tags.html
 </code>
 et
 <code>
  authors.html
 </code>
 il y a vraiment un minimum de choses à reprendre et modifier ! On gagne du temps et si jamais on veut bidouiller la liste on a un seul fichier à modifier.
</p>
<p>
 Par exemple, pour la liste des auteurs, dans
 <code>
  authors.html
 </code>
 on aura :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% extends "base.html" %}


{% block content %}
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-title"</span>&gt;</span>Liste des auteurs<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
{% set _object = authors %}
{% include 'parts/high-level-list.part.html' %}
{% endblock %}
</code></pre>
</div>
<p>
 On a juste eu besoin de remplacer le titre et la variable à utiliser et tout le reste s’est fait auto-magiquement !
</p>
<p>
 Je vous laisse faire la page
 <code>
  tags.html
 </code>
 , ça ne devrait pas vous poser trop de soucis !
</p>
<p>
 Pour visiter ces trois pages et en voir le rendu, rendez-vous aux adresses suivantes :
</p>
<ul>
 <li>
  <code>
   authors.html
  </code>
  :
  <a href="http://localhost:8000/authors">
   http://localhost:8000/authors
  </a>
 </li>
 <li>
  <code>
   categories.html
  </code>
  :
  <a href="http://localhost:8000/categories">
   http://localhost:8000/categories
  </a>
 </li>
 <li>
  <code>
   tags.html
  </code>
  :
  <a href="http://localhost:8000/tags">
   http://localhost:8000/tags
  </a>
 </li>
</ul>
<div class="custom-block alert alert-primary">
 <div class="custom-block-body">
  <p>
   Bien entendu cette astuce de factorisation marche bien si vous voulez avoir un rendu homogène sur ces 3 pages. En revanche, si vous souhaitez faire un style différent à chaque fois dans ce cas il n’y a évidemment pas d’astuce particulière, il faudra personnaliser le template idoine de la bonne façon selon vos rêves et désirs !
  </p>
 </div>
</div>
<h3 id="les-listes-darticles">
 <a aria-hidden="true" href="#les-listes-darticles">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les listes d’articles
</h3>
<p>
 Il ne nous reste plus qu’à faire les listes d’articles et nous aurons fait le tour de ce type de page !
</p>
<p>
 Si vous avez bien compris la section précédente, alors celle-ci sera du gâteau
 <img alt=":lol:" class="smiley" src="./static/smileys/rire.gif"/>
 ! À vrai dire vous pourriez presque déjà la faire sans moi, il suffit juste de trouver quelles variables utiliser pour générer la liste.
</p>
<p>
 Comme vu précédemment, les listes d’articles sont les détails des listes de haut niveau. Ainsi, on va là encore trouver trois pages à créer / éditer :
 <code>
  author.html
 </code>
 ,
 <code>
  category.html
 </code>
 et
 <code>
  tag.html
 </code>
 . Comme l’explique
 <a href="http://docs.getpelican.com/en/stable/themes.html#category-html">
  la documentation
 </a>
 , chacune de ses pages proposes une variable correspondante au contenu de haut niveau en cours d’affichage, donc respectivement
 <code>
  author
 </code>
 ,
 <code>
  category
 </code>
 et
 <code>
  tag
 </code>
 . On y trouvera aussi une variable
 <code>
  articles
 </code>
 qui contiendra les articles de la page étudiée.
</p>
<p>
 Ainsi, avec toutes ses informations on peut faire un premier jet de réalisation similaire à la précédente. Cette fois-ci nous afficherons un peu plus d’informations, en effet les articles sont riches en métadonnées, profitons-en pour aider le lecteur à choisir un contenu qui lui plaît ! Voici pour une page présentant une catégorie. Je pense qu’avec tout ce que nous avons vu jusqu’à présent, ce code ne devrait pas vous poser trop de souci
 <img alt=":)" class="smiley" src="./static/smileys/smile.png"/>
 .
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% extends "base.html" %}


{% block content %}
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-title"</span>&gt;</span>Article de la catégorie "{{ category }}"<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

{% for article in articles %}
<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-title"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ article.url }}"</span>&gt;</span>{{ article.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-content"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>Écrit par <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ article.author.url }}"</span>&gt;</span>{{ article.author }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> le {{ article.locale_date }}.<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            {{ article.summary }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
{% endfor %}

{% endblock %}
</code></pre>
</div>
<div class="custom-block alert alert-primary">
 <div class="custom-block-body">
  <p>
   Si vous souhaitez utiliser une liste d’articles triés par date et non pas par titre, vous pouvez utiliser la variable
   <code>
    dates
   </code>
   au lieu de
   <code>
    articles
   </code>
   .
  </p>
 </div>
</div>
<figure>
 <img alt="Rendu d'une liste d'articles" src="./images/uploaded/tuto-pelican-303-page-de-«-listing-»/rendu-dune-liste-darticles.png"/>
 <figcaption>
  Rendu d'une liste d'articles
 </figcaption>
</figure>
<div class="custom-block alert alert-info">
 <div class="custom-block-body">
  <p>
   Avez-vous remarqué que les variables pour parcourir tout les contenus sont
   <code>
    articles
   </code>
   (au pluriel, contenant la liste des articles de cette catégorie) et
   <code>
    article
   </code>
   (au singulier, l’article actuellement étudié à chaque tour dans la boucle
   <code>
    for
   </code>
   ). C’est une convention d’écriture assez habituelle, alors n’ayez pas peur de l’utiliser :
   <code>
    for singulier in pluriel
   </code>
  </p>
 </div>
</div>
<h4 id="factorisation">
 <a aria-hidden="true" href="#factorisation">
  <span class="es-autolink-heading">
  </span>
 </a>
 Factorisation
</h4>
<p>
 Comme pour les listes de haut-niveau, là encore nous pouvons déplacer une bonne partie du code dans un fichier
 <code>
  part
 </code>
 et ainsi réutiliser sans peine le code pour toutes nos listes d’articles. Voici ma version allégée, le code ne changeant pas énormément et ne voulant pas répéter ce que vous connaissez déjà je vous laisse l’analyser vous-même. Aussi, il ne faut pas oublier de reproduire ce schéma pour les pages
 <code>
  tag.html
 </code>
 et
 <code>
  author.html
 </code>
 .
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% extends "base.html" %}


{% block content %}

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-title"</span>&gt;</span>Article de la catégorie "{{ category }}"<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

{% include 'parts/articles-list.part.html' %}

{% endblock %}
</code></pre>
</div>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% for article in articles %}
<span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-title"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ article.url }}"</span>&gt;</span>{{ article.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"list-element-content"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>Écrit par <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ article.author.url }}"</span>&gt;</span>{{ article.author }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span> le {{ article.locale_date }}.<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
            {{ article.summary }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
{% endfor %}
</code></pre>
</div>
<h3 id="annexe-la-pagination">
 <a aria-hidden="true" href="#annexe-la-pagination">
  <span class="es-autolink-heading">
  </span>
 </a>
 Annexe : La pagination
</h3>
<p>
 Qui dit liste, dit souvent pages. En effet, notre exemple ici ne paie pas de mine, mais on est pas à l’abri qu’un jour on ait beaucoup d’articles. On risquerait alors de se retrouver avec une liste longue comme le bras, avec une page mettant du temps à charger et pénible à naviguer.
</p>
<p>
 Une solution : La pagination.
</p>
<p>
 J’ai brièvement évoqué cet aspect dans le début du tutoriel, il est temps de le mettre en pratique.
</p>
<p>
 Tout d’abord, il faut repérer le paramètre
 <code>
  DEFAULT_PAGINATION
 </code>
 dans le fichier
 <code>
  pelicanconf.py
 </code>
 . La valeur de ce dernier va servir à régler combien d’articles par page seront affichés. Une valeur de 5 par exemple permettera d’afficher 5 articles sur chaque page. Donc si on a 20 articles dans une catégorie, l’affichage du contenu de cette dernière se fera sur 4 pages distinctes.
</p>
<p>
 Puisque nous parlons de l’exemple des catégories, retournons voir
 <a href="http://docs.getpelican.com/en/stable/themes.html#category-html">
  la documentation de ces dernières
 </a>
 . Tout d’abord, on apprend que si plusieurs pages sont nécessaires pour afficher la liste des articles, alors elles seront formatées selon la convention
 <code>
  category/{category_name}{number}.html
 </code>
 . La page 1 contiendra les articles 1 à 5, la n°2 les 6 à 10 etc.
</p>
<p>
 Ensuite, le tableau nous affiche le nom et l’utilité des variables supplémentaires spécifiques à cette page. Cinq attirent notre attention :
</p>
<ul>
 <li>
  <code>
   articles_paginator
  </code>
  : Un objet de type
  <em>
   paginator
  </em>
  , utile pour gérer la pagination ;
 </li>
 <li>
  <code>
   articles_page
  </code>
  : Un objet de type
  <em>
   Page
  </em>
  représentant la page courante. Je reviens tout de suite là dessus ! ;
 </li>
 <li>
  <code>
   articles_previous_page
  </code>
  : Un objet de type
  <em>
   Page
  </em>
  représentant la page précédente ;
 </li>
 <li>
  <code>
   articles_next_page
  </code>
  : Un objet de type
  <em>
   Page
  </em>
  représentant la page suivante ;
 </li>
 <li>
  <code>
   page_name
  </code>
  : Nous servira à contruire les liens pour accéder aux différentes pages. Ce dernier représente le lien de "base" de la page (par exemple
  <code>
   category/cookie
  </code>
  pour n’importe quel numéro de page de la catégorie cookie).
 </li>
</ul>
<h4 id="lobjet-page">
 <a aria-hidden="true" href="#lobjet-page">
  <span class="es-autolink-heading">
  </span>
 </a>
 L’objet
 <code>
  Page
 </code>
</h4>
<p>
 Ce type de variable transporte plein d’informations intéressantes, notamment pour créer notre joli pagination. Je ne vais pas rentrer dans le détail de tout ce qu’il propose, cependant sachez que son
 <em>
  code-source-pas-si-compliqué
 </em>
 est disponible ici :
 <a href="https://github.com/getpelican/pelican/blob/master/pelican/paginator.py">
  https://github.com/getpelican/pelican/blob/master/pelican/paginator.py
 </a>
 .
</p>
<p>
 Le premier élément nous qui nous intéresse sera la variable
 <code>
  object_list
 </code>
 de cet objet. Cette dernière nous met à disposition la liste des articles contenus dans uniquement cette page (donc au plus 5 articles si la pagination est paramétré à 5 articles par page). Via les variables mentionnées précédemment, on utilisera
 <code>
  articles_page.object_list
 </code>
 pour les articles de la page courante.
</p>
<p>
 Un autre élément est l’accès aux fonctions
 <code>
  has_previous
 </code>
 et
 <code>
  has_next
 </code>
 . Ces deux fonctions renvoient un booléen si il y a effectivement une page précédente ou suivante par rapport à la courante. On pourra alors utiliser
 <code>
  previous_page_number
 </code>
 et
 <code>
  next_page_number
 </code>
 pour avoir le numéro de la page précédente et celui de la suivante.
</p>
<p>
 Enfin, on peut aussi obtenir l’url de la page via la variable
 <code>
  url
 </code>
 (
 <code>
  category/cookie2.html
 </code>
 pour la deuxième page de la catégorie
 <em>
  cookie
 </em>
 par exemple).
</p>
<h4 id="lobjet-paginator">
 <a aria-hidden="true" href="#lobjet-paginator">
  <span class="es-autolink-heading">
  </span>
 </a>
 L’objet
 <code>
  Paginator
 </code>
</h4>
<p>
 Cet objet est lui aussi assez simple à utiliser. Son code se trouve au même endroit que celui de
 <code>
  Page
 </code>
 . Seules certaines variables contenues dans
 <code>
  Paginator
 </code>
 vont vraiment nous intéresser :
</p>
<ul>
 <li>
  <code>
   count
  </code>
  : Le nombre total d’articles dans cette pagination (par exemple 20 pour 20 articles, avec 5 articles par page) ;
 </li>
 <li>
  <code>
   num_pages
  </code>
  : Le nombre total de pages composant la pagination (par exemple '4' pour 20 articles, avec 5 articles par page) ;
 </li>
 <li>
  <code>
   page_range
  </code>
  : Un générateur allant de 1 au nombre de pages nécessaire pour tout parcourir (par exemple [1..4] pour afficher 20 articles, avec 5 articles par page).
 </li>
</ul>
<h4 id="mettre-tout-cela-en-œuvre">
 <a aria-hidden="true" href="#mettre-tout-cela-en-œuvre">
  <span class="es-autolink-heading">
  </span>
 </a>
 Mettre tout cela en œuvre
</h4>
<p>
 Maintenant que nous savons tout cela, il va falloir modifier notre code pour afficher la liste d’articles de la meilleure manière qu’il soit. Et bonne nouvelle, il ne faudra le faire qu’à un seul endroit puisque nous avons factorisé tout le code d’affichages des listes d’articles dans le fichier
 <code>
  articles-list.part.html
 </code>
 !
</p>
<p>
 Pour commencer, on ne va afficher que les articles concernant la page courante. Pour cela on va remplacer le for :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% for article in articles %}
</code></pre>
</div>
<p>
 devient
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% for article in articles_page.object_list %}
</code></pre>
</div>
<p>
 Donc au lieu d’afficher 20 articles on en affiche plus que 5.
</p>
<p>
 Maintenant, il va falloir créer l’affichage qui nous permettra de sélectionner la page que nous souhaitons afficher.
</p>
<p>
 Pour cela, on va utiliser le générateur
 <code>
  page_range
 </code>
 de
 <code>
  articles_paginator
 </code>
 dans un for pour créer une liste de toutes les pages (en dehors de la boucle
 <code>
  for
 </code>
 de la liste d’articles) :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% if articles_paginator.num_pages &gt; 1 %}
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"paginator"</span>&gt;</span>
    {% for cpt in articles_paginator.page_range %}
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ page_name }}{{ cpt if cpt &gt; 1 else '' }}.html"</span>&gt;</span>{{ cpt }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    {% endfor %}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
{% endif %}
</code></pre>
</div>
<p>
 Comme vous pouvez le remarquer, j’ai ajouté un
 <code>
  if
 </code>
 sur le nombre de pages. En effet, inutile de construire le sélecteur de pages s’il y en a qu’une seule !
</p>
<p>
 On trouve aussi une condition pour construire le lien des pages. En effet, la toute première page ne se nomme pas
 <code>
  categorie/cookie1.html
 </code>
 mais juste
 <code>
  category/cookie.html
 </code>
 (sans le 1 final).
</p>
<p>
 Avec un peu de CSS, voici ce que l’on peut déjà obtenir :
</p>
<figure>
 <img alt="Paginateur simple" src="./images/uploaded/tuto-pelican-303-page-de-«-listing-»/paginateur-simple.png"/>
 <figcaption>
  Paginateur simple
 </figcaption>
</figure>
<div class="custom-block custom-block-spoiler">
 <div class="custom-block-body">
  <div class="hljs-code-div">
   <div class="hljs-line-numbers">
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
   </div>
   <pre><code class="hljs language-css"><span class="hljs-selector-class">.paginator</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">a</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">margin-left</span>: -<span class="hljs-number">6px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#dee2e6</span>;
  <span class="hljs-attribute">text-decoration</span>: none;
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0056b3</span>;
  <span class="hljs-attribute">text-decoration</span>: none;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9ecef</span>;
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#dee2e6</span>;
}
</code></pre>
  </div>
 </div>
</div>
<p>
 C’est un bon début, mais on peut faire un peu mieux…
</p>
<h4 id="améliorer-le-paginateur">
 <a aria-hidden="true" href="#améliorer-le-paginateur">
  <span class="es-autolink-heading">
  </span>
 </a>
 Améliorer le paginateur
</h4>
<p>
 En utilisant à bon escient les différentes variables, on peut obtenir un résultat fort sympathique. Voici par exemple ce qui est possible :
</p>
<figure>
 <img alt="Zoom sur le paginateur" src="./images/uploaded/tuto-pelican-303-page-de-«-listing-»/zoom-sur-le-paginateur.png"/>
 <figcaption>
  Zoom sur le paginateur
 </figcaption>
</figure>
<p>
 On voit ainsi apparaitre des chevrons à droite et gauche permettant de naviguer en avant/arrière d’une page à la fois, et aussi un indicateur visuel permettant de savoir sur quelle page nous nous trouvons. Les chevrons ainsi que la page courante sont rendus non cliquables dans les cas où c’est utile (si nous sommes sur la première ou dernière page par exemple).
</p>
<p>
 Pour obtenir ce résultat, voici le code utilisé :
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
  <span>
  </span>
 </div>
 <pre><code class="hljs language-html">{% if articles_paginator.num_pages &gt; 1 %}
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"paginator"</span>&gt;</span>
    {% if articles_previous_page %}
    {% set num = articles_page.previous_page_number() %}
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ page_name }}{{ num if num &gt; 1 else '' }}.html"</span>&gt;</span>&amp;lt;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    {% else %}
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&amp;lt;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    {% endif %}

    {% for cpt in articles_paginator.page_range %}
        {% if cpt == articles_page.number %}
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"active"</span>&gt;</span>{{ cpt }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        {% else %}
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{ SITEURL }}/{{ page_name }}{{ cpt if cpt &gt; 1 else '' }}.html"</span>&gt;</span>{{ cpt }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        {% endif %}
    {% endfor %}

    {% if articles_next_page %}
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/{{ page_name }}{{ articles_page.next_page_number() }}.html"</span>&gt;</span>&amp;gt;<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    {% else %}
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&amp;gt;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    {% endif %}
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
{% endif %}
</code></pre>
</div>
<p>
 Pour construire ce beau paginateur, on fait appel à plusieurs conditions
 <code>
  if
 </code>
 . La première et dernière condition servent toutes deux à afficher les chevrons. Ils sont soit affichés dans un span (si nous sommes à la première/dernière page), soit dans un lien pour se rendre à la page précédente/suivante lorsqu’elle existe (il faut là encore ruser pour créer l’adresse de la toute première page).
</p>
<p>
 Au milieu, on retrouve notre boucle
 <code>
  for
 </code>
 . Son contenu a cependant été un peu amélioré pour pouvoir afficher un span au lieu d’un lien lorsque il faut afficher le numéro de la page courante.
</p>
<p>
 Et voici le CSS mise à jour :
</p>
<div class="custom-block custom-block-spoiler">
 <div class="custom-block-body">
  <div class="hljs-code-div">
   <div class="hljs-line-numbers">
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
    <span>
    </span>
   </div>
   <pre><code class="hljs language-css"><span class="hljs-selector-class">.paginator</span> {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">a</span>, <span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">span</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">margin-left</span>: -<span class="hljs-number">6px</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#dee2e6</span>;
  <span class="hljs-attribute">text-decoration</span>: none;
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0056b3</span>;
  <span class="hljs-attribute">text-decoration</span>: none;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9ecef</span>;
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#dee2e6</span>;
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">span</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">rgba</span>(0,0,0,.3);
}

<span class="hljs-selector-class">.paginator</span> <span class="hljs-selector-tag">span</span><span class="hljs-selector-class">.active</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#0056b3</span>;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e9ecef</span>;
}
</code></pre>
  </div>
 </div>
</div>
<p>
 Je reconnais que ce code est un peu plus compliqué, mais finalement, avec un peu de réflexion et pas mal d’essais on finit par obtenir des trucs sympas non
 <img alt=":)" class="smiley" src="./static/smileys/smile.png"/>
 ?
</p>
<figure>
 <img alt="Paginateur amélioré" src="./images/uploaded/tuto-pelican-303-page-de-«-listing-»/paginateur-ameliore.png"/>
 <figcaption>
  Paginateur amélioré
 </figcaption>
</figure>
<p>
 Et voilà encore un beau morceau d’abattu, avec quelques nouveautés comme les boucle
 <code>
  for
 </code>
 mais surtout l’occasion de (re)travailler tout ce qui avait pu être vu pendant le chapitre précédent.
</p>
<p>
 Maintenant nous pouvons passer au cœur du site en créant le design d’un article lui-même.
</p>
            </div>
            <!-- /.entry-content -->
            <hr>
            <div class="row bg-light my-2 py-2 rounded">
                <div class="col mr-auto">
                    <a class="" href="/tuto-pelican-302-la-base" rel="prev">
                        <i class="fas fa-chevron-left fa-lg"></i>
                        tuto-pelican-302-la-base
                    </a>
                </div>
                <div class="col-auto">
                    <a class="" href="/tuto-pelican-304-rendu-dun-article" rel="next">
                        tuto-pelican-304-rendu-dun-article
                        <i class="fas fa-chevron-right fa-lg"></i>
                    </a>
                </div>
            </div>
            <div class="text-center">
                <img class="es-licence-pic" src="/static/images/CC BY-NC-SA.png" alt="Licence CC BY-NC-SA" title="Article sous licence CC BY-NC-SA">
            </div>
            <div class="my-3 text-center">
                <a class="btn btn-outline-dark mx-1" href="https://twitter.com/share?url=https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»&amp;text=Page de  « listing » - https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»" rel="nofollow" title="Partager cet article sur Twitter" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-twitter fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://www.facebook.com/sharer.php?u=https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»&amp;t=Page de  « listing » - https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»" rel="nofollow" title="Partager cet article sur Facebook" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-facebook-f fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://plus.google.com/share?url=https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»&amp;hl=fr" rel="nofollow" title="Partager cet article sur Google +" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>
                <!--<a class="btn btn-outline-dark mx-1" href="http://sharetodiaspora.github.io/?url=https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»&amp;title=Page de  « listing » - https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»" rel="nofollow"  title="Partager cet article sur Diaspora" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>-->
                <a class="btn btn-outline-dark mx-1" href="mailto:?subject=Page de  « listing »&amp;body=https://eskimon.fr/tuto-pelican-303-page-de-«-listing-»"rel="nofollow" title="Partager cet article par email" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="far fa-envelope fa-lg"></i>
                </a>
            </div>
            <hr>
            <div id="70220-28">
                <script src="//ads.themoneytizer.com/s/gen.js?type=28"></script>
                <script src="//ads.themoneytizer.com/s/requestform.js?siteId=70220&formatId=28"></script>
            </div>
            <div class="text-center">
                <p>Vous avez une question ? Vous souhaitez partager votre experience ? Venez nous rejoindre sur Discord !</p>
                <iframe src="https://discordapp.com/widget?id=550632131877928960&theme=dark" width="500" height="500" allowtransparency="true" frameborder="0"></iframe>
            </div>
        </article>
    </div>
    <div class="d-none d-xl-block col-xl-1 offset-xl-1 px-0">
        <div id="70220-4">
            <script src="//ads.themoneytizer.com/s/gen.js?type=4"></script>
            <script src="//ads.themoneytizer.com/s/requestform.js?siteId=70220&formatId=4"></script>
        </div>
        <!-- Pub ajouté auto -->
        <!--
        <div class="d-flex flex-column justify-content-around align-items-end h-100" id="es-right-ad-block">
        </div>
        -->
    </div>
</div>
    </div>
<footer class="container-fluid bg-dark small text-white px-3">
<div class="row">
    <div class="col align-self-center">
        © Eskimon -
        Blog propulsé par <a class="bold text-white" href="https://blog.getpelican.com/" rel="nofollow">Pelican</a> -
        Thème fait maison
    </div>
    <div class="col align-self-end text-right">
        <a class="btn btn-lg text-light" href="https://github.com/Eskimon" rel="nofollow" title="Mon profil Github">
            <i class="fab fa-github fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://twitter.com/Eskimon_fr" rel="nofollow" title="Me suivre sur Twitter">
            <i class="fab fa-twitter fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://twitch.tv/eskimon" rel="nofollow" title="Me suivre sur Twitch">
            <i class="fab fa-twitch fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://www.youtube.com/user/Eskimon49/featured" rel="nofollow" title="Les VOD sur Youtube">
            <i class="fab fa-youtube fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://discord.gg/9SkDWft" rel="nofollow" title="Venez participer sur Discord">
            <i class="fab fa-discord fa-lg"></i>
        </a>
    </div>
  </div>
</footer>
    <!-- For formula -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Font awesome -->
    <script src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
    <!-- JQuery first -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- For tooltips -->
    <script>$(function () {  $('[data-toggle="tooltip"]').tooltip()})</script>
    <script src="/static/js/my-scripts.js"></script>
<script>
function create_side_summary() {
    // Duplicate summary
    var main_summary = $('#sommaire').next();
    if(main_summary.length === 0)
        return
    var side_summary = main_summary.clone();
    side_summary.addClass('pl-0');
    var all_p = side_summary.find('p');
    all_p.contents().unwrap();
    var all_li = side_summary.find('li');
    all_li.addClass('pl-1');

    // scrollspy - in
    side_summary.attr('id', 'es-side-summary-mainlist');
    //side_summary.addClass('nav');
    //all_li.addClass('nav-item');
    var all_a = side_summary.find('a');
    all_a.addClass('nav-link');
    var all_ul = side_summary.find('ul');
    all_ul.addClass('pl-1');
    $('body').scrollspy({ target: '#es-side-summary-mainlist' });
    // scrollspy - out

    var summary_title = document.createElement("h4");
    summary_title.className = 'navbar-brand';
    summary_title.innerHTML = 'Sommaire';
    $(summary_title).prependTo('#es-side-summary-content');
    side_summary.appendTo('#es-side-summary-content');
    main_summary.addClass('es-subul-collapse');
}

function generate_spoilers() {
    all_secret = $('.custom-block-spoiler');
    all_secret.each(function( index ) {
        let content = $(this).html();
        $(this).html('');
        $(this).addClass('card');
        var headerText = document.createElement("button");
        var cardHeader = document.createElement("div");
        var cardBodyWrapper = document.createElement("div");
        var cardBody = document.createElement("div");
        $(headerText).text('Contenu masqué, cliquez pour afficher');
        $(headerText).addClass('btn btn-link btn-sm');
        $(headerText).attr('data-toggle', 'collapse');
        $(headerText).attr('data-target', '#collapse-' + index);
        $(headerText).attr('aria-controls', 'collapse-' + index);
        $(headerText).attr('aria-expanded', 'false');
        $(cardHeader).append(headerText);
        $(cardHeader).addClass('card-header');
        $(cardHeader).attr('id', 'spoiler-' + index);
        $(cardBody).html(content);
        $(cardBody).addClass('card-body');
        $(cardBodyWrapper).append(cardBody);
        $(cardBodyWrapper).addClass('collapse hide');
        $(cardBodyWrapper).attr('id', 'collapse-' + index)
        $(cardBodyWrapper).attr('aria-labelledby', 'spoiler-' + index)
        $(this).prepend(cardHeader);
        $(this).append(cardBodyWrapper);
    });

    $('.collapse').collapse({toggle: false});
}

function load_extra_ads() {
    return;
    // Load right side blocks
    var sidebar = $('#es-right-ad-block');
    var n_height = Math.floor(sidebar.height() / 2000);
    for (i = 0; i < n_height; i++) {
        var frag = document.createDocumentFragment();
        var newAdBlock = document.createElement("div");
        var block1 = document.createElement("ins");
        var block2 = document.createElement("script");

        block1.innerHTML = '<ins class="adsbygoogle" ' +
            'style="display:inline-block;width:120px;height:600px" ' +
            'data-ad-client="ca-pub-2080155902357792" ' +
            'data-ad-slot="4023722026"></ins>';
        block2.innerHTML = '(adsbygoogle = window.adsbygoogle || []).push({});';

        $(newAdBlock).append(block1);
        $(newAdBlock).append(block2);
        $(frag).append(newAdBlock);

        $(sidebar).append(frag);
    }

    // Load in feed blocks (above every h3)
    var frag = document.createDocumentFragment();
    var newAdBlock = document.createElement("div");
    var block1 = document.createElement("ins");
    var block2 = document.createElement("script");
    block1.innerHTML = '<ins class="adsbygoogle"' +
    'style = "display:inline-block;width:970px;height:90px"' +
    'data - ad - client="ca-pub-2080155902357792"' +
    'data - ad - slot="7100712740" ></ins >'
    block2.innerHTML = '(adsbygoogle = window.adsbygoogle || []).push({});';
    $(newAdBlock).append(block1);
    $(newAdBlock).append(block2);
    newAdBlock.className = 'my-3 text-center';
    $(frag).append(newAdBlock);
    var titles = $('.entry-content h3').slice(1);
    $(frag).insertBefore(titles);
}

function load_top_moneytizer_ads() {
    var frag = document.createDocumentFragment();
    var newAdBlock = document.createElement("div");
    var script1 = document.createElement("script");
    var script2 = document.createElement("script");
    script1.src = "//ads.themoneytizer.com/s/gen.js?type=1";
    script2.src = "//ads.themoneytizer.com/s/requestform.js?siteId=70220&formatId=1";
    newAdBlock.id = '70220-1';
    newAdBlock.append(script1);
    newAdBlock.append(script2);
    $(frag).append(newAdBlock);
    $(frag).insertBefore($('.entry-content h3')[1]);
}

$(document).ready(function () {
    create_side_summary();
    generate_spoilers();
    load_top_moneytizer_ads();

    // when opening the sidebar
    $('#sidebarCollapse').on('click', function () {
        // open sidebar
        $('#es-side-summary').removeClass('d-none');
        $('#es-content').addClass('d-none');
        $('#sidebarCollapse').removeClass('sticky-top');
    });

    // if dismiss or overlay was clicked
    $('#es-side-summary').on('click', function () {
      // hide the sidebar
      $('#es-side-summary').addClass('d-none');
      $('#es-content').removeClass('d-none');
      $('#sidebarCollapse').addClass('sticky-top');
    });
});
</script>

</body>

</html>