<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Le logiciel &bull; Le blog d'Eskimon</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/hljs-monokai.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <!-- Google font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="/static/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/static/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/static/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/static/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/static/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/static/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/static/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/static/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/static/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/static/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/static/images/favicon/ms-icon-144x144.png">


    <meta name="description" content="Après l'introduction précédente, rentrons maintenant dans le détail en parlant du logiciel qui permet d'utiliser la carte Arduino." />

    <meta name="tags" content="arduino" />
    <meta name="tags" content="tuto" />

  <meta property="og:site_name" content="Le blog d'Eskimon">
  <meta property="og:title" content="Le logiciel">
  <meta property="og:url" content="https://eskimon.fr/tuto-arduino-103-le-logiciel">
  <meta property="og:language" content="fr_FR">
  <meta property="og:type" content="website">

  <meta property="twitter:domain" content="https://eskimon.fr/">
  <meta property="twitter:card" content="summary">
  <meta property="twitter:url" content="https://eskimon.fr/tuto-arduino-103-le-logiciel">
  <meta property="twitter:title" content="Le logiciel">
<meta property="twitter:description" content="Après l'introduction précédente, rentrons maintenant dans le détail en parlant du logiciel qui permet d'utiliser la carte Arduino.">  <meta property="twitter:site" content="SITENAME">
  <meta property="twitter:creator" content="@eskimon_fr">

  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" />
  <meta name="DC.publisher" lang="fr" content="Le blog d'Eskimon" />
  <meta name="DC.creator" content="Eskimon" />
  <meta name="DC.type" content="text" />
  <meta name="DC.title" content="Le logiciel" />
  <meta name="DC.abstract" content="Le logiciel – Après l'introduction précédente, rentrons maintenant dans le détail en parlant du logiciel qui permet d'utiliser la carte Arduino." />
  <meta name="DC.subject" lang="fr" content="Arduino/Découverte de l'Arduino – arduino; tuto" />
<meta name="DC.description" lang="fr" content="Après l'introduction précédente, rentrons maintenant dans le détail en parlant du logiciel qui permet d'utiliser la carte Arduino." />  <meta name="DC.date" content="2013-12-10T20:03:00+01:00" />
  <meta name="DC.format" content="text/html" />
  <meta name="DC.language" content="fr" />
  <meta name="DC.rights" content="CC BY-NC-SA" />


</head>

<body>
<nav class="navbar navbar-expand-lg navbar-light bg-secondary-l40 py-0">
    <a class="navbar-brand" href="/">
        <img src="/static/images/logo.png" width="20" height="20" alt="">
        Le blog d'Eskimon
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav ml-auto">
                <a class="nav-item nav-link active" href="/category/arduino">Arduino</a>
                <a class="nav-item nav-link " href="/category/articles">Articles</a>
                <a class="nav-item nav-link " href="/category/tuto">Tuto</a>
            <!--<a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>-->
        </div>
    </div>
</nav>
<!--
    <div class="vh-100 m-0 p-0 ">
        <div class="wmax-1024 mx-auto my-0 py-0 text-justify">
            <div class="text-center">
                <a href="https://eskimon.fr" class="text-dark no-decoration" >
                    <h1 class="logo-font text-center my-5 display-2 d-md-block d-none">Le blog d'Eskimon</h1>
                    <h2 class="logo-font text-center d-md-none my-5">Le blog d'Eskimon</h2>
                </a>
            </div>
        </div>
    </div>
-->
    <div class="container-fluid es-verticalfill">
<div class="row">
    <!-- Sidebar -->
    <div class="col-md-2 col-lg-2 d-none d-md-block sticky-top es-scrollable pt-3 px-1 bg-light es-ul-bordered" id="es-side-summary">
        <nav class="px-2" id="es-side-summary-content">
            <!-- Summary will come here -->
        </nav>
        <!-- Add here self-promo for ebook -->
        <!-- Add here adsense block -->
        <hr>
        <div id="es-side-summary-bot-annonce">
            <!-- Responsive sidebar -->
            <ins class="adsbygoogle"
                style="display:block"
                data-ad-client="ca-pub-2080155902357792"
                data-ad-slot="3497585408"
                data-ad-format="auto"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>
    <!-- Main content -->
    <div class="col-md-9 col-lg-7 offset-lg-1 d-block pt-3">
        <article>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb bg-white">
                    <li class="breadcrumb-item"><a href="/category/arduino">Arduino</a></li>
                        <li class="breadcrumb-item"><a href="/subcategory/arduino/decouverte-de-larduino.html">Découverte de l'Arduino</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Le logiciel</li>
                </ol>
            </nav>
            <header class="es-post-info">
                <h1 class="text-center my-4">Le logiciel</h1>
            </header>
            <footer class="es-post-info pb-2 mb-2">
                <div class="row align-items-center">
                    <div class="col-auto mr-auto">
                        <span class="vcard author">
                            <a class="" href="/author/eskimon" rel="author">Eskimon</a>
                        </span>
                        ,
                        <time class="" datetime="2013-12-10T20:03:00+01:00" pubdate>
                            le mar. 10 décembre 2013
                        </time>
                    </div>
                    <div class="col-auto">
                        <a class="btn btn-outline-primary btn-sm" href="/tag/arduino" rel="tag">arduino</a>
                        <a class="btn btn-outline-primary btn-sm" href="/tag/tuto" rel="tag">tuto</a>
                    </div>
                </div>
            </footer>

            <!-- /.post-info -->
            <div class="entry-content">
                <p>
 Afin de vous laisser un peu de temps supplémentaire pour vous procurer votre carte Arduino, je vais vous montrer brièvement comment se présente le logiciel Arduino.
</p>
<h3 id="sommaire">
 <a aria-hidden="true" href="#sommaire">
  <span class="es-autolink-heading">
  </span>
 </a>
 Sommaire
</h3>
<ul>
 <li>
  <p>
   <a href="#installation">
    Installation
   </a>
  </p>
  <ul>
   <li>
    <p>
     <a href="#téléchargement">
      Téléchargement
     </a>
    </p>
    <ul>
     <li>
      <a href="#sous-windows">
       Sous Windows
      </a>
     </li>
     <li>
      <a href="#mac-os">
       Mac os
      </a>
     </li>
     <li>
      <a href="#sous-linux">
       Sous Linux
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#interface-du-logiciel">
    Interface du logiciel
   </a>
  </p>
  <ul>
   <li>
    <a href="#lancement-du-logiciel">
     Lancement du logiciel
    </a>
   </li>
   <li>
    <p>
     <a href="#présentation-du-logiciel">
      Présentation du logiciel
     </a>
    </p>
    <ul>
     <li>
      <a href="#correspondance">
       Correspondance
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li>
  <p>
   <a href="#approche-et-utilisation-du-logiciel">
    Approche et utilisation du logiciel
   </a>
  </p>
  <ul>
   <li>
    <a href="#le-menu-file">
     Le menu File
    </a>
   </li>
   <li>
    <a href="#les-boutons">
     Les boutons
    </a>
   </li>
  </ul>
 </li>
</ul>
<h3 id="installation">
 <a aria-hidden="true" href="#installation">
  <span class="es-autolink-heading">
  </span>
 </a>
 Installation
</h3>
<p>
 Il n’y a pas besoin d’installer le logiciel Arduino sur votre ordinateur puisque ce dernier est une version portable. Regardons ensemble les étapes pour préparer votre ordinateur à l’utilisation de la carte Arduino.
</p>
<h4 id="téléchargement">
 <a aria-hidden="true" href="#téléchargement">
  <span class="es-autolink-heading">
  </span>
 </a>
 Téléchargement
</h4>
<p>
 Pour télécharger le logiciel, il faut se rendre sur
 <a href="http://arduino.cc/en/Main/Software">
  la page de téléchargement du site arduino.cc
 </a>
 . Vous avez deux catégories :
</p>
<ul>
 <li>
  Download : Dans cette catégorie, vous pouvez télécharger la dernière version du logiciel. Les plateformes Windows, Linux et Mac sont supportées par le logiciel.
  <strong>
   C’est donc ici que vous allez télécharger le logiciel
  </strong>
  .
 </li>
 <li>
  Previous IDE Versions : Dans cette catégorie-là, vous avez toutes les versions du logiciel, sous les plateformes précédemment citées, depuis le début de sa création.
 </li>
</ul>
<h5 id="sous-windows">
 <a aria-hidden="true" href="#sous-windows">
  <span class="es-autolink-heading">
  </span>
 </a>
 Sous Windows
</h5>
<p>
 Pour moi ce sera sous Windows. Je clique sur le lien
 <strong>
  Windows
 </strong>
 et le fichier apparaît et doit être enregistre ou bon vous semble.
</p>
<p>
 Une fois que le téléchargement est terminé, vous n’avez plus qu’à décompresser le fichier avec un utilitaire de décompression (7-zip, WinRar, …). À l’intérieur du dossier se trouvent quelques fichiers et l’exécutable du logiciel :
</p>
<p>
 <img alt="Exécutable du logiciel Arduino" src="./images/uploaded/tuto-arduino-103-le-logiciel/executable-du-logiciel-arduino.png"/>
</p>
<h5 id="mac-os">
 <a aria-hidden="true" href="#mac-os">
  <span class="es-autolink-heading">
  </span>
 </a>
 Mac os
</h5>
<p>
 Cliquez sur le lien Mac OS. Un fichier
 <strong>
  .dmg
 </strong>
 apparait. Enregistrez-le.
</p>
<p>
 <img alt="Téléchargement sous Mac OS" src="./images/uploaded/tuto-arduino-103-le-logiciel/telechargement-sous-mac-os.jpg"/>
</p>
<p>
 Double-cliquez sur le fichier
 <em>
  .dmg
 </em>
 :
</p>
<p>
 <img alt="Contenu du téléchargement" src="./images/uploaded/tuto-arduino-103-le-logiciel/contenu-du-telechargement.jpg"/>
</p>
<p>
 On y trouve l’application Arduino (
 <strong>
  .app
 </strong>
 ), mais aussi le driver à installer (
 <strong>
  .mpkg
 </strong>
 ). Procédez à l’installation du driver puis installez l’application en la glissant dans le raccourci du dossier "Applications" qui est normalement présent sur votre ordinateur.
</p>
<h5 id="sous-linux">
 <a aria-hidden="true" href="#sous-linux">
  <span class="es-autolink-heading">
  </span>
 </a>
 Sous Linux
</h5>
<p>
 Rien de plus simple, en allant dans la logithèque, recherchez le logiciel "Arduino". Sinon vous pouvez aussi passer par la ligne de commande:
</p>
<div class="hljs-code-div">
 <div class="hljs-line-numbers">
  <span>
  </span>
 </div>
 <pre><code class="hljs language-bash">$ sudo apt-get install arduino
</code></pre>
</div>
<p>
 Plusieurs dépendances seront installées en même temps.
</p>
<div class="custom-block alert alert-primary">
 <div class="custom-block-body">
  <p>
   Je rajoute
   <a href="http://www.arduino.cc/playground/Learning/Linux">
    un lien
   </a>
   qui vous mènera vers la page officielle.
  </p>
 </div>
</div>
<h3 id="interface-du-logiciel">
 <a aria-hidden="true" href="#interface-du-logiciel">
  <span class="es-autolink-heading">
  </span>
 </a>
 Interface du logiciel
</h3>
<h4 id="lancement-du-logiciel">
 <a aria-hidden="true" href="#lancement-du-logiciel">
  <span class="es-autolink-heading">
  </span>
 </a>
 Lancement du logiciel
</h4>
<p>
 Lançons le logiciel en double-cliquant sur l’icône avec le symbole "infinie" en vert. C’est l’exécutable du logiciel. Après un léger temps de réflexion, une image s’affiche :
</p>
<p>
 <img alt="Le splash screen Arduino" src="./images/uploaded/tuto-arduino-103-le-logiciel/le-splash-screen-arduino.jpg"/>
</p>
<p>
 Cette fois, après quelques secondes, le logiciel s’ouvre. Une fenêtre se présente à nous :
</p>
<p>
 <img alt="L'interface de l'IDE Arduino" src="./images/uploaded/tuto-arduino-103-le-logiciel/linterface-de-lide-arduino.png"/>
</p>
<p>
 Ce qui saute aux yeux en premier, c’est la clarté de présentation du logiciel. On voit tout de suite son interface intuitive. Voyons comment se compose cette interface.
</p>
<h4 id="présentation-du-logiciel">
 <a aria-hidden="true" href="#présentation-du-logiciel">
  <span class="es-autolink-heading">
  </span>
 </a>
 Présentation du logiciel
</h4>
<p>
 J’ai découpé, grâce à mon ami paint.net, l’image précédente en plusieurs parties :
</p>
<p>
 <img alt="L'interface de l'IDE Arduino en détail" src="./images/uploaded/tuto-arduino-103-le-logiciel/linterface-de-lide-arduino-en-detail.png"/>
</p>
<h5 id="correspondance">
 <a aria-hidden="true" href="#correspondance">
  <span class="es-autolink-heading">
  </span>
 </a>
 Correspondance
</h5>
<ul>
 <li>
  Le cadre numéro 1 : ce sont les options de configuration du logiciel
 </li>
 <li>
  Le cadre numéro 2 : il contient les boutons qui vont nous servir lorsque l’on va programmer nos cartes
 </li>
 <li>
  Le cadre numéro 3 : ce bloc va contenir le programme que nous allons créer
 </li>
 <li>
  Le cadre numéro 4 : celui-ci est important, car il va nous aider à corriger les fautes dans notre programme. C’est le
  <strong>
   débogueur
  </strong>
  .
 </li>
</ul>
<h3 id="approche-et-utilisation-du-logiciel">
 <a aria-hidden="true" href="#approche-et-utilisation-du-logiciel">
  <span class="es-autolink-heading">
  </span>
 </a>
 Approche et utilisation du logiciel
</h3>
<p>
 Attaquons-nous plus sérieusement à l’utilisation du logiciel. La barre des menus est entourée en rouge et numérotée par le chiffre 1.
</p>
<h4 id="le-menu-file">
 <a aria-hidden="true" href="#le-menu-file">
  <span class="es-autolink-heading">
  </span>
 </a>
 Le menu
 <em>
  File
 </em>
</h4>
<p>
 C’est principalement ce menu que l’on va utiliser le plus. Il dispose d’un certain nombre de choses qui vont nous être très utiles. Il a été traduit en français progressivement, nous allons donc voir les quelques options qui sortent de l’ordinaire :
</p>
<p>
 <img alt="Le menu Fichier" src="./images/uploaded/tuto-arduino-103-le-logiciel/le-menu-fichier.jpg"/>
</p>
<ul>
 <li>
  <em>
   Carnet de croquis
  </em>
  : Ce menu regroupe les fichiers que vous avez pu faire jusqu’à maintenant (et s’ils sont enregistrés dans le dossier par défaut du logiciel).
 </li>
 <li>
  <em>
   Exemples
  </em>
  (exemples) : Ceci est important, toute une liste se déroule pour afficher les noms d’exemples de programmes existants ; avec ça, vous pourrez vous aider/inspirer pour créer vos propres programmes ou tester de nouveaux composants.
 </li>
 <li>
  <em>
   Téléverser
  </em>
  : Permet d’envoyer le programme sur la carte Arduino. Nous y reviendrons
  <img alt=";)" class="smiley" src="./static/smileys/clin.png"/>
  .
 </li>
 <li>
  <em>
   Téléverser avec un programmateur
  </em>
  : Idem que ci-dessus, mais avec l’utilisation d’un programmateur (vous n’en n’aurez que très rarement besoin).
 </li>
 <li>
  <em>
   Préférences
  </em>
  : Vous pourrez régler ici quelques paramètres du logiciel.
Le reste des menus n’est pas intéressant pour l’instant, on y reviendra plus tard, avant de commencer à programmer.
 </li>
</ul>
<h4 id="les-boutons">
 <a aria-hidden="true" href="#les-boutons">
  <span class="es-autolink-heading">
  </span>
 </a>
 Les boutons
</h4>
<p>
 Voyons à présent à quoi servent les boutons, encadrés en rouge et numérotés par le chiffre 2.
</p>
<p>
 <img alt="La barre d'outils" src="./images/uploaded/tuto-arduino-103-le-logiciel/la-barre-doutils.png"/>
</p>
<ul>
 <li>
  Bouton 1 : Ce bouton permet de vérifier le programme, il actionne un module qui cherche les erreurs dans votre programme
 </li>
 <li>
  Bouton 2 : Charge (téléverse) le programme dans la carte Arduino.
 </li>
 <li>
  Bouton 3 : Crée un nouveau fichier.
 </li>
 <li>
  Bouton 4 : Ouvre un fichier.
 </li>
 <li>
  Bouton 5 : Enregistre le fichier.
 </li>
 <li>
  Bouton 6 : Ouvre le moniteur série (on verra plus tard ce que c’est
  <img alt=";)" class="smiley" src="./static/smileys/clin.png"/>
  ).
 </li>
</ul>
<p>
 Enfin, on va pouvoir s’occuper du matériel que vous devriez tous posséder en ce moment même : la carte Arduino !
</p>
            </div>
            <!-- /.entry-content -->
            <hr>
            <div class="row bg-light my-2 py-2 rounded">
                <div class="col mr-auto">
                    <a class="" href="/tuto-arduino-102-quelques-bases-élémentaires" rel="prev">
                        <i class="fas fa-chevron-left fa-lg"></i>
                        tuto-arduino-102-quelques-bases-élémentaires
                    </a>
                </div>
                <div class="col-auto">
                    <a class="" href="/tuto-arduino-104-le-matériel" rel="next">
                        tuto-arduino-104-le-matériel
                        <i class="fas fa-chevron-right fa-lg"></i>
                    </a>
                </div>
            </div>
            <div class="mb-3 text-center">
                <a class="btn btn-outline-dark mx-1" href="https://twitter.com/share?url=https://eskimon.fr/tuto-arduino-103-le-logiciel&amp;text=Le logiciel - https://eskimon.fr/tuto-arduino-103-le-logiciel" rel="nofollow" title="Partager cet article sur Twitter" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-twitter fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://www.facebook.com/sharer.php?u=https://eskimon.fr/tuto-arduino-103-le-logiciel&amp;t=Le logiciel - https://eskimon.fr/tuto-arduino-103-le-logiciel" rel="nofollow" title="Partager cet article sur Facebook" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-facebook-f fa-lg"></i>
                </a>
                <a class="btn btn-outline-dark mx-1" href="https://plus.google.com/share?url=https://eskimon.fr/tuto-arduino-103-le-logiciel&amp;hl=fr" rel="nofollow" title="Partager cet article sur Google +" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>
                <!--<a class="btn btn-outline-dark mx-1" href="http://sharetodiaspora.github.io/?url=https://eskimon.fr/tuto-arduino-103-le-logiciel&amp;title=Le logiciel - https://eskimon.fr/tuto-arduino-103-le-logiciel" rel="nofollow"  title="Partager cet article sur Diaspora" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="fab fa-google-plus fa-lg"></i>
                </a>-->
                <a class="btn btn-outline-dark mx-1" href="mailto:?subject=Le logiciel&amp;body=https://eskimon.fr/tuto-arduino-103-le-logiciel"rel="nofollow" title="Partager cet article par email" role="button" data-toggle="tooltip" data-placement="top">
                    <i class="far fa-envelope fa-lg"></i>
                </a>
            </div>
        </article>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <!-- pub article large horizontal -->
            <ins class="adsbygoogle"
                style="display:inline-block;width:728px;height:90px"
                data-ad-client="ca-pub-2080155902357792"
                data-ad-slot="8315996923"></ins>
            <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
</div>
    </div>
<footer class="container-fluid bg-dark small text-white px-3">
<div class="row">
    <div class="col align-self-start">

    </div>
    <div class="col align-self-center text-center">
        © Eskimon -
        Blog propulsé par <a class="bold text-white" href="https://blog.getpelican.com/" rel="nofollow">Pelican</a> -
        Thème fait maison
    </div>
    <div class="col align-self-end text-right">
        <a class="btn btn-lg text-light" href="https://github.com/Eskimon" rel="nofollow" title="Mon profil Github">
            <i class="fab fa-github fa-lg"></i>
        </a>
        <a class="btn btn-lg text-light" href="https://twitter.com/Eskimon_fr" rel="nofollow" title="Me suivre sur Linkedin">
            <i class="fab fa-twitter fa-lg"></i>
        </a>
    </div>
  </div>
</footer>

    <!-- For formula -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- Font awesome -->
    <script src="https://use.fontawesome.com/releases/v5.0.0/js/all.js"></script>
    <!-- JQuery first -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- Popper.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- For tooltips -->
    <script>$(function () {  $('[data-toggle="tooltip"]').tooltip()})</script>
    <script src="/static/js/my-scripts.js"></script>
<script>
function create_side_summary() {
    // Duplicate summary
    var main_summary = $('#sommaire').next();
    if(main_summary.length === 0)
        return
    var side_summary = main_summary.clone();
    side_summary.addClass('pl-0');
    var all_p = side_summary.find('p');
    all_p.contents().unwrap();
    var all_li = side_summary.find('li');
    all_li.addClass('pl-1');

    // scrollspy - in
    side_summary.attr('id', 'es-side-summary-mainlist');
    //side_summary.addClass('nav');
    //all_li.addClass('nav-item');
    var all_a = side_summary.find('a');
    all_a.addClass('nav-link');
    var all_ul = side_summary.find('ul');
    all_ul.addClass('pl-1');
    $('body').scrollspy({ target: '#es-side-summary-mainlist' });
    // scrollspy - out

    var summary_title = document.createElement("h4");
    summary_title.className = 'navbar-brand';
    summary_title.innerHTML = 'Sommaire';
    $(summary_title).prependTo('#es-side-summary-content');
    side_summary.appendTo('#es-side-summary-content');
    main_summary.addClass('es-subul-collapse');
}

function generate_spoilers() {
    all_secret = $('.custom-block-spoiler');
    all_secret.each(function( index ) {
    let content = $(this).html();
    $(this).html('');
    $(this).addClass('card');
    var headerText = document.createElement("button");
    var cardHeader = document.createElement("div");
    var cardBodyWrapper = document.createElement("div");
    var cardBody = document.createElement("div");
    $(headerText).text('Contenu masqué, cliquez pour afficher');
    $(headerText).addClass('btn btn-link btn-sm');
    $(headerText).attr('data-toggle', 'collapse');
    $(headerText).attr('data-target', '#collapse-' + index);
    $(headerText).attr('aria-controls', 'collapse-' + index);
    $(headerText).attr('aria-expanded', 'false');
    $(cardHeader).append(headerText);
    $(cardHeader).addClass('card-header');
    $(cardHeader).attr('id', 'spoiler-' + index);
    $(cardBody).html(content);
    $(cardBody).addClass('card-body');
    $(cardBodyWrapper).append(cardBody);
    $(cardBodyWrapper).addClass('collapse hide');
    $(cardBodyWrapper).attr('id', 'collapse-' + index)
    $(cardBodyWrapper).attr('aria-labelledby', 'spoiler-' + index)
    $(this).prepend(cardHeader);
    $(this).append(cardBodyWrapper);
    });

    $('.collapse').collapse({toggle: false});
}

create_side_summary();
generate_spoilers();
</script>
</body>

</html>
